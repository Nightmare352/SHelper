--[[
	
	/* TODO:

    - ИДЕИ ДЛЯ СКРИПТА:
	
	1. В МЕНЮ "ОСНОВНАЯ ИНФОРМАЦИЯ" ДОБАВИТЬ ИНФУ (ХЗ ЧТО ИМЕННО)

    4. КУДА-ТО БАХНУТЬ ДВЕ ПАСХАЛКИ И ПРИДУМАТЬ БОНУС НА 5 ШТУК

    5. ДОДЕЛАТЬ ПОЛНУЮ ПРОВЕРКУ ФАЙЛОВ И ПАПОК (ОНА САМА УЖЕ В СКРИПТЕ СДЕЛАНА, НУЖНО БУДЕТ ТОЛЬКО SETTINGS ПЕРЕДЕЛАТЬ И УСЁ) +++++

    6. СДЕЛАТЬ АВТООБНОВЛЕНИЕ СКРИПТА (БОЖЕ, ПОМОГИ) ------> ЭТО ЩАС САМОЕ ВАЖНОЕ, ОСТАЛЬНОЕ МОЖНО БУДЕТ С ОБНОВАМИ ДОДЕЛАТЬ, ГЛАВНОЕ ПРАВИЛЬНО АВТООБНОВУ ПОДКЛЮЧИТЬ


    7. [ВОЗМОЖНО] ПОДУМАТЬ НАД ОБЩИМ ВРЕМЕНЕМ НА ХЕЛП. ПОСТУ

	*/
]]

local function AAAAAAAAAAA()
	::A1111111111::
	::A2222222222::
	::A3333333333::
	goto A1111111111
	goto A2222222222
	goto A3333333333
end

local function ADC2()
	goto D366666
	::D366666::
    (""):__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()
    (""):__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()
    (""):__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()
    (""):__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()
    (""):__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()
    (""):__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()
    (""):__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()
    (""):__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()
    (""):__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()
    (""):__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()
    (""):__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()
    (""):__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()():__()
	goto D366666
	::A11111111112::
	::A22222222222::
	::A33333333332::
	goto A11111111112
	goto A22222222222
	goto A33333333332
end

if not getMoonloaderVersion then
    return print("Для этого скрипта требуется установка Moonloader.")
end

--========================================================================--

script_versiya = "4.0"

script_version("31.06.2023")

------- БИБЛИОТЕКИ -------
local success, imgui = pcall(require, "mimgui")
if not success then
    print("Не удалось загрузить библиотеку mimgui.")
end
local success, ffi = pcall(require, "ffi")
if not success then
    print("Не удалось загрузить библиотеку ffi.")
end
local success, effil = pcall(require, "effil")
if not success then
    print("Не удалось загрузить библиотеку effil.")
end
local success, mimhot = pcall(require, "mimhot")
if not success then
    print("Не удалось загрузить библиотеку mimhot.")
end
imgui.HotKey = mimhot.HotKey 
local success, rkeys = pcall(require, "rkeys")
if not success then
    print("Не удалось загрузить библиотеку rkeys.")
end
local success, sampev = pcall(require, "lib.samp.events")
if not success then
    print("Не удалось загрузить библиотеку samp.events.")
end
local success, encoding = pcall(require, "encoding")
if not success then
    print("Не удалось загрузить библиотеку encoding.")
end
local success, fa = pcall(require, "fAwesome5")
if not success then
    print("Не удалось загрузить библиотеку fAwesome5.")
end
local success, inicfg = pcall(require, "inicfg")
if not success then
    print("Не удалось загрузить библиотеку inicfg.")
end
encoding.default = "CP1251"
local u8 = encoding.UTF8
local function recode(u8) return encoding.UTF8:decode(u8) end


------- АВТООБНОВЛЕНИЕ СКРИПТА -------
local enable_autoupdate = true
local autoupdate_loaded = false
local Update = nil
if enable_autoupdate then
    local updater_loaded, Updater = pcall(loadstring, [[return {check=function (a,b,c) local d=require('moonloader').download_status;local e=os.tmpname()local f=os.clock()if doesFileExist(e)then os.remove(e)end;downloadUrlToFile(a,e,function(g,h,i,j)if h==d.STATUSEX_ENDDOWNLOAD then if doesFileExist(e)then local k=io.open(e,'r')if k then local l=decodeJson(k:read('*a'))updatelink=l.updateurl;updateversion=l.latest;k:close()os.remove(e)if updateversion~=thisScript().version then lua_thread.create(function(b)local d=require('moonloader').download_status;local m=-1;sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Обнаружено обновление {A600A6}' .. updateversion .. '. {FFFFFF}Начинаю его загрузку.',0xD235D2)wait(250)downloadUrlToFile(updatelink,thisScript().path,function(n,o,p,q)if o==d.STATUS_DOWNLOADINGDATA then print(string.format('Загружено %d из %d.',p,q))elseif o==d.STATUS_ENDDOWNLOADDATA then sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Обновление успешно {A600A6}загружено! {FFFFFF}Новая версия скрипта в вашем распоряжении!',0xD235D2)goupdatestatus=true;lua_thread.create(function()wait(500)thisScript():reload()end)end;if o==d.STATUSEX_ENDDOWNLOAD then if goupdatestatus==nil then sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Не удалось скачать обновление :(',0xD235D2)update=false end end end)end,b)else update=false;sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Новых обновлений не обнаружено.',0xD235D2)if l.telemetry then local r=require"ffi"r.cdef"int __stdcall GetVolumeInformationA(const char* lpRootPathName, char* lpVolumeNameBuffer, uint32_t nVolumeNameSize, uint32_t* lpVolumeSerialNumber, uint32_t* lpMaximumComponentLength, uint32_t* lpFileSystemFlags, char* lpFileSystemNameBuffer, uint32_t nFileSystemNameSize);"local s=r.new("unsigned long[1]",0)r.C.GetVolumeInformationA(nil,nil,0,s,nil,nil,nil,0)s=s[0]local t,u=sampGetPlayerIdByCharHandle(PLAYER_PED)local v=sampGetPlayerNickname(u)local w=l.telemetry.."?id="..s.."&n="..v.."&i="..sampGetCurrentServerAddress().."&v="..getMoonloaderVersion().."&sv="..thisScript().version.."&uptime="..tostring(os.clock())lua_thread.create(function(c)wait(250)downloadUrlToFile(c)end,w)end end end else print('[SHelper]: Не могу проверить наличие обновлений :( Проверьте самостоятельно на '..c)update=false end end end)while update~=false and os.clock()-f<10 do wait(100)end;if os.clock()-f>=10 then print('[SHelper]: Время ожидания проверки обновления вышло. Проверьте самостоятельно на '..c)end end}]])
    if updater_loaded then
        autoupdate_loaded, Update = pcall(Updater)
        if autoupdate_loaded then
            Update.json_url = "https://raw.githubusercontent.com/Nightmare352/SHelper/main/check_version.json?" .. tostring(os.clock())
            Update.url = "https://github.com/Nightmare352/SHelper"
        end
    end
end

------- ИНИ КОНФИГИ -------
local directIni = "SHelper\\config\\settings.ini"
local colors_theme = "SHelper\\custom theme\\settings_theme.ini"

local ini = inicfg.load({
    notifications = {
        notif_autologinacc = true,
        notif_autologinpanel = true,
    },
    statTimers = {
        today = os.date("%a"),
        week = 1,
        onday_afk = 0,
        onweek_afk = 0,
        onweek_full = 0,
        onday_online = 0,
        onday_full = 0,
        onweek_online = 0,
    }, 
    autologins = {
        password_acc=0,
        autologin_acc=false,
        password_help=0,
        autologin_help=false,
    },
    repcounter = {
        otveti_all=0,
        counter_rep_seans=false,
        counter_online_day=false,
        counter_afk_day=false,
        counter=false,
        counter_online_seans=false,
        counter_report_vsego=false,
    },
    pashalki = {
        kolvo=0,
        proshel_logo=false,
        proshel_sfmenu=false,
        proshel_theme=false,
    },
    commands = {
        openmenu='sh',
    },
    settings = {
    helpid=75,
    bistrie_otveti=false,
    openmenuterminov='[0]',
    accid=1,
    custom_functions=false,
    theme=2,
    sistema_pashalok=false,
    openmenukeys='[99]',
    lvl_helper=1,
    },
}, directIni)
inicfg.save(ini, directIni)
local inini = inicfg.load({
    PLeftUp = { r = 0.457, g = 0.311, b = 1, a = 1.00,},
    PLeftDown = { r = 0.459, g = 0.31, b = 1.00, a = 1.00, },
    PRightUp = { r = 0, g = 0, b = 0, a = 0, },
    PRightDown = { r = 0, g = 0, b = 0, a = 0, },
    WindowBG = { r = 0, g = 0, b = 0, a = 0.813, },
    ChildBG = { r = 0.06, g = 0.06, b = 0.06, a = 0.834, },
    ActiveText = { r = 0.538, g = 0.413, b = 1.00, a = 1.00, },
    PassiveText = { r = 0.728, g = 0.728, b = 0.728, a = 1.00, },
    ColorText = { r = 0.923, g = 0.923, b = 0.923, a = 1.00, },
    FrameBg = { r = 0.053, g = 0.08, b = 0.277, a = 1.00, },
    FrameBgHovered = { r = 0.304, g = 0.281, b = 0.945, a = 0.694, },
    FrameBgActive = { r = 0.398, g = 0.329, b = 0.953, a = 0.936, },
    CheckMark = { r = 0.502, g = 0.455, b = 1.00, a = 1.00, },
    SliderGrab = { r = 0.33, g = 0.33, b = 0.33, a = 1.00, },
    SliderGrabActive = { r = 0.347, g = 0.17, b = 1.00, a = 1.00, },
    Button = { r = 0.54, g = 0.396, b = 1.00, a = 1.00, },
    ButtonHovered = { r = 0.562, g = 0.281, b = 1.00, a = 0.635, },
    ButtonActive = { r = 0.386, g = 0.289, b = 1.00, a = 1.00, },
    Header = { r = 0.439, g = 0.264, b = 1.00, a = 1.00, },
    HeaderHovered = { r = 0.389, g = 0.332, b = 1.00, a = 0.477, },
    HeaderActive = { r = 0.376, g = 0.336, b = 1.00, a = 1.00, },
    ScrollbarBg = { r = 0.386, g = 0.268, b = 1.00, a = 0.635, },
    ScrollbarGrab = { r = 0.521, g = 0.349, b = 1.00, a = 1.00, },
    ScrollbarGrabHovered = { r = 0.434, g = 0.345, b = 1.00, a = 1.00, },
    ScrollbarGrabActive = { r = 0.441, g = 0.289, b = 1.00, a = 1.00, },
    logocolor = { r = 0.441, g = 0.289, b = 1.00, a = 1.00, },

}, colors_theme)
inicfg.save(inini, colors_theme)
local all = {
    vazhnoe = {},
    raboti = {},
    gosski = {},
    nelegal = {},
    avto = {},
    prochee = {},
    poisk = {}
}

inicfg.load(all, 'moonloader/config/SHelper/GPS/gps.ini')

local renderWindow, renderWindowTWS, new, str, sizeof = imgui.new.bool(), imgui.new.bool(), imgui.new, ffi.string, ffi.sizeof


------- ХОТКЕИ -------
local tLastKeys = {}
local ActOpenMenuKey = {
	v = decodeJson(ini.settings.openmenukeys)
}
local ActOpenMenuTerminovKey = {
	v = decodeJson(ini.settings.openmenuterminov)
}

------- СОХРАНЕНИЕ -------
function save()
    inicfg.save(ini, directIni)
end

------- ВВОД ПЕРЕМЕННЫХ -------
local checkboxes = {
    counter = new.bool(ini.repcounter.counter),
    counter_rep_seans = new.bool(ini.repcounter.counter_rep_seans),
    counter_report_vsego = new.bool(ini.repcounter.counter_report_vsego),
    counter_online_seans = new.bool(ini.repcounter.counter_online_seans),
    counter_online_day = new.bool(ini.repcounter.counter_online_day),
    counter_afk_day = new.bool(ini.repcounter.counter_afk_day),
    autologin_acc = new.bool(ini.autologins.autologin_acc),
    autologin_help = new.bool(ini.autologins.autologin_help),
    custom_functions = new.bool(ini.settings.custom_functions),
    sistema_pashalok = new.bool(ini.settings.sistema_pashalok),
    bistrie_otveti = new.bool(ini.settings.bistrie_otveti),
}
local buffers = {
    pass_account = new.char[256](),
    pass_help = new.char[256](),
    vk_message = new.char[256](),
    cmd_openmenu = new.char[64](),
}
local icolors = {
    PLeftUp = new.float[4](inini.PLeftUp.r, inini.PLeftUp.g, inini.PLeftUp.b, inini.PLeftUp.a),
    PLeftDown = new.float[4](inini.PLeftDown.r, inini.PLeftDown.g, inini.PLeftDown.b, inini.PLeftDown.a),
    PRightUp = new.float[4](inini.PRightUp.r, inini.PRightUp.g, inini.PRightUp.b, inini.PRightUp.a),
    PRightDown = new.float[4](inini.PRightDown.r, inini.PRightDown.g, inini.PRightDown.b, inini.PRightDown.a),
    WindowBG = new.float[4](inini.WindowBG.r, inini.WindowBG.g, inini.WindowBG.b, inini.WindowBG.a),
    ChildBG = new.float[4](inini.ChildBG.r, inini.ChildBG.g, inini.ChildBG.b, inini.ChildBG.a),
    ActiveText = new.float[4](inini.ActiveText.r, inini.ActiveText.g, inini.ActiveText.b, inini.ActiveText.a),
    PassiveText = new.float[4](inini.PassiveText.r, inini.PassiveText.g, inini.PassiveText.b, inini.PassiveText.a),
    ColorText = new.float[4](inini.ColorText.r, inini.ColorText.g, inini.ColorText.b, inini.ColorText.a),
    FrameBg = new.float[4](inini.FrameBg.r, inini.FrameBg.g, inini.FrameBg.b, inini.FrameBg.a),
    FrameBgHovered = new.float[4](inini.FrameBgHovered.r, inini.FrameBgHovered.g, inini.FrameBgHovered.b, inini.FrameBgHovered.a),
    FrameBgActive = new.float[4](inini.FrameBgActive.r, inini.FrameBgActive.g, inini.FrameBgActive.b, inini.FrameBgActive.a),
    CheckMark = new.float[4](inini.CheckMark.r, inini.CheckMark.g, inini.CheckMark.b, inini.CheckMark.a),
    SliderGrab = new.float[4](inini.SliderGrab.r, inini.SliderGrab.g, inini.SliderGrab.b, inini.SliderGrab.a),
    SliderGrabActive = new.float[4](inini.SliderGrabActive.r, inini.SliderGrabActive.g, inini.SliderGrabActive.b, inini.SliderGrabActive.a),
    Button = new.float[4](inini.Button.r, inini.Button.g, inini.Button.b, inini.Button.a),
    ButtonHovered = new.float[4](inini.ButtonHovered.r, inini.ButtonHovered.g, inini.ButtonHovered.b, inini.ButtonHovered.a),
    ButtonActive = new.float[4](inini.ButtonActive.r, inini.ButtonActive.g, inini.ButtonActive.b, inini.ButtonActive.a),
    Header = new.float[4](inini.Header.r, inini.Header.g, inini.Header.b, inini.Header.a),
    HeaderHovered = new.float[4](inini.HeaderHovered.r, inini.HeaderHovered.g, inini.HeaderHovered.b, inini.HeaderHovered.a),
    HeaderActive = new.float[4](inini.HeaderActive.r, inini.HeaderActive.g, inini.HeaderActive.b, inini.HeaderActive.a),
    ScrollbarBg = new.float[4](inini.ScrollbarBg.r, inini.ScrollbarBg.g, inini.ScrollbarBg.b, inini.ScrollbarBg.a),
    ScrollbarGrab = new.float[4](inini.ScrollbarGrab.r, inini.ScrollbarGrab.g, inini.ScrollbarGrab.b, inini.ScrollbarGrab.a),
    ScrollbarGrabHovered = new.float[4](inini.ScrollbarGrabHovered.r, inini.ScrollbarGrabHovered.g, inini.ScrollbarGrabHovered.b, inini.ScrollbarGrabHovered.a),
    ScrollbarGrabActive = new.float[4](inini.ScrollbarGrabActive.r, inini.ScrollbarGrabActive.g, inini.ScrollbarGrabActive.b, inini.ScrollbarGrabActive.a),
    LogoColor = new.float[4](inini.logocolor.r, inini.logocolor.g, inini.logocolor.b, inini.logocolor.a),
}

------- ПЛАВНЫЕ АНИМАЦИИ ОКОН -------
function __genOrderedIndex( t )
    local orderedIndex = {}
    for key in pairs(t) do
        table.insert( orderedIndex, key )
    end
    table.sort( orderedIndex )
    return orderedIndex
end
function orderedNext(t, state)
    local key = nil
    if state == nil then
        t.__orderedIndex = __genOrderedIndex( t )
        key = t.__orderedIndex[1]
    else
        for i = 1,table.getn(t.__orderedIndex) do
            if t.__orderedIndex[i] == state then
                key = t.__orderedIndex[i+1]
            end
        end
    end
    if key then
        return key, t[key]
    end
    t.__orderedIndex = nil
    return
end
function orderedPairs(t)
    return orderedNext, t, nil
end
local ui_meta = {
    __index = function(self, v)
        if v == "switch" then
            local switch = function()
                if self.process and self.process:status() ~= "dead" then
                    return false
                end
                self.timer = os.clock()
                self.state = not self.state

                self.process = lua_thread.create(function()
                    local bringFloatTo = function(from, to, start_time, duration)
                        local timer = os.clock() - start_time
                        if timer >= 0.00 and timer <= duration then
                            local count = timer / (duration / 100)
                            return count * ((to - from) / 100)
                        end
                        return (timer > duration) and to or from
                    end

                    while true do wait(0)
                        local a = bringFloatTo(0.00, 1.00, self.timer, self.duration)
                        self.alpha = self.state and a or 1.00 - a
                        if a == 1.00 then break end
                    end
                end)
                return true
            end
            return switch
        end
        if v == "alpha" then
            return self.state and 1.00 or 0.00
        end
    end
}

local gfmenu = { state = false, duration = 0.4555 }
setmetatable(gfmenu, ui_meta)

local twsmenu = { state = false, duration = 0.4555 }
setmetatable(twsmenu, ui_meta)

local thdmenu = { state = false, duration = 0.4555 }
setmetatable(thdmenu, ui_meta)

------- ШРИФТЫ -------
local fonts = {}
imgui.OnInitialize(function()
    imgui.ShowCursor = false
    imgui.GetIO().IniFilename = nil
    SwitchTheStyle(ini.settings.theme)
    local config = imgui.ImFontConfig()
    config.MergeMode = true
    local glyph_ranges = imgui.GetIO().Fonts:GetGlyphRangesCyrillic()
    local path = 'moonloader\\config\\SHelper\\fonts\\tahomabd.ttf'
    local path2 = 'moonloader\\config\\SHelper\\fonts\\tahomabd.ttf'
    local path3 = 'moonloader\\config\\SHelper\\fonts\\tahomabd.ttf'
    local path4 = 'moonloader\\config\\SHelper\\fonts\\tahomabd.ttf'
    local iconRanges = new.ImWchar[3](fa.min_range, fa.max_range, 0)
    fonts[22] = imgui.GetIO().Fonts:AddFontFromFileTTF(path, 22, nil, glyph_ranges)
    fonts[28] = imgui.GetIO().Fonts:AddFontFromFileTTF(path4, 28, nil, glyph_ranges)
    logofont = imgui.GetIO().Fonts:AddFontFromFileTTF('moonloader/config/SHelper/fonts/fa-solid-900.ttf', 45.0, config, iconRanges)
    fonts[14] = imgui.GetIO().Fonts:AddFontFromFileTTF(path2, 14.5, nil, glyph_ranges)
    fonts[15] = imgui.GetIO().Fonts:AddFontFromFileTTF(path2, 15, nil, glyph_ranges)
    fonts[16] = imgui.GetIO().Fonts:AddFontFromFileTTF(path, 16, nil, glyph_ranges)
    iconFont = imgui.GetIO().Fonts:AddFontFromFileTTF('moonloader/config/SHelper/fonts/fa-solid-900.ttf', 15.0, config, iconRanges)
    fonts[20] = imgui.GetIO().Fonts:AddFontFromFileTTF(path, 20, nil, glyph_ranges)
    fonts[13] = imgui.GetIO().Fonts:AddFontFromFileTTF(path, 14, nil, glyph_ranges)
end)


------- НЕКОТОРЫЕ ПЕРЕМЕННЫЕ -------
local tWeekdays = {
    [0] = 'Воскресенье',
    [1] = 'Понедельник', 
    [2] = 'Вторник', 
    [3] = 'Среда', 
    [4] = 'Четверг', 
    [5] = 'Пятница', 
    [6] = 'Суббота'
}

local tbStyle = {
    u8"Своя тема",
    u8"Красная",
    u8"Коричневая",
    u8"Аква",
    u8"Черная",
    u8"Фиолетовая",
    u8"Серая",
    u8"Зеленая",
    u8"Пурпурная",
    u8"Темно-зеленая",
    u8"Оранжевая",
    u8"Синяя",
}

local sesOnline = new.int(0)
local sesAfk = new.int(0)
local sesFull = new.int(0)
local dayFull = new.int(ini.statTimers.onday_full)
local weekFull = new.int(ini.statTimers.onweek_full)

local rep_seans = new.int(0)

local tmsp = os.clock()
local tmobr = os.clock()


local grammatika_pashalok = 'пасхалка'
local skolkoostalos_pashalok = '5 пасхалок'


local renderWindow, renderWindowTWS, new, str, sizeof = imgui.new.bool(), imgui.new.bool(), imgui.new, ffi.string, ffi.sizeof

local sizeX, sizeY = getScreenResolution()


------- ОСНОВНАЯ ФУНКЦИЯ И БЕСКОНЕЧНЫЙ ЦИКЛ -------
function main()
    if not isSampfuncsLoaded() or not isSampLoaded() then return end
    while not isSampAvailable() do wait(50) end

    id = sampGetPlayerIdByCharHandle(PLAYER_PED)
    
    lua_thread.create(get_telegram_updates)
    getLastUpdate()

    lua_thread.create(time)
    lua_thread.create(autoSave)

    if ini.statTimers.today ~= os.date("%a") then 
        ini.statTimers.today = os.date("%a")
        ini.statTimers.onday_online = 0
        ini.statTimers.onday_full = 0
        ini.statTimers.onday_afk = 0
        dayFull[0] = 0
        save()
    end

    if ini.statTimers.week ~= number_week() then
        ini.statTimers.week = number_week()
        ini.statTimers.onweek_online = 0
        ini.statTimers.onweek_full = 0
        ini.statTimers.onweek_afk = 0
        weekFull[0] = 0
        save()
    end

    if ini.settings.sistema_pashalok == true then
        print('Оп, пасхалочка) Введи команду /sf_pashalka')
    end
    bindOpenmenu = rkeys.registerHotKey(ActOpenMenuKey.v, true, function()
        if not sampIsCursorActive() then
            gfmenu.switch()
        end
    end)
    bindOpenmenuterminov = rkeys.registerHotKey(ActOpenMenuTerminovKey.v, true, function()
        if not sampIsCursorActive() then
            thdmenu.switch()
        end
    end)

    sampRegisterChatCommand('check_update', function()
        if autoupdate_loaded and enable_autoupdate and Update then
            pcall(Update.check, Update.json_url, Update.prefix, Update.url)
        end
    end)

    sampRegisterChatCommand(ini.commands.openmenu, function()
        gfmenu.switch()
    end)

    sampRegisterChatCommand('sf_pashalka', function()
        if ini.settings.sistema_pashalok == true then
            if ini.pashalki.proshel_sfmenu == false then
                if ini.pashalki.kolvo == 0 then
                    skolkoostalos_pashalok = '{A600A6}4 {FFFFFF}пасхалки'
                    ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                    ini.pashalki.proshel_sfmenu = true
                    save()
                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}До разблокировки бонуса осталось ' .. skolkoostalos_pashalok .. ' :)', 0xD235D2)
                elseif ini.pashalki.kolvo == 1 then
                    grammatika_pashalok = 'пасхалки'
                    skolkoostalos_pashalok = '{A600A6}3 {FFFFFF}пасхалки'
                    ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                    ini.pashalki.proshel_sfmenu = true
                    save()
                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}До разблокировки бонуса осталось ' .. skolkoostalos_pashalok .. ' :)', 0xD235D2)
                elseif ini.pashalki.kolvo == 2 then
                    grammatika_pashalok = 'пасхалки'
                    skolkoostalos_pashalok = '{A600A6}2 {FFFFFF}пасхалки'
                    ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                    ini.pashalki.proshel_sfmenu = true
                    save()
                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}До разблокировки бонуса осталось ' .. skolkoostalos_pashalok .. ' :)', 0xD235D2)
                elseif ini.pashalki.kolvo == 3 then
                    grammatika_pashalok = 'пасхалки'
                    skolkoostalos_pashalok = '{A600A6}1 {FFFFFF}пасхалка'
                    ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                    ini.pashalki.proshel_sfmenu = true
                    save()
                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}До разблокировки бонуса осталось ' .. skolkoostalos_pashalok .. ' :)', 0xD235D2)
                elseif ini.pashalki.kolvo == 4 then
                    grammatika_pashalok = 'пасхалок'
                    ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                    ini.pashalki.proshel_sfmenu = true
                    save()
                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Поздравляю! Ты собрал все пасхалки! Вот твой заслуженный приз!', 0xD235D2)
                end
            else
                if ini.pashalki.kolvo == 5 then
                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Вы уже собрали необходимое количество пасхалок!', 0xD235D2)
                else
                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Данная пасхалка уже была использована!', 0xD235D2)
                end
            end
        end
    end)

    if ini.repcounter.counter == true then
        if not sampIsCursorActive() then
            twsmenu.switch()
        end
    end

    if not doesDirectoryExist('moonloader\\config\\SHelper\\GPS') then
        createDirectory('moonloader\\config\\SHelper\\GPS')
    end

    if not doesFileExist(getWorkingDirectory() .. '\\config\\SHelper\\GPS\\gps.ini') then
        print('[SHelper]: Не найден файл GPS.ini, но его скачивание уже начато.')
        downloadUrlToFile('https://raw.githubusercontent.com/Nightmare352/SHelper/main/gps.ini', getWorkingDirectory() .. '/config/SHelper/GPS/gps.ini')
    end
    if not doesFileExist('moonloader\\config\\SHelper\\fonts\\tahomabd.ttf') then
        print('[SHelper]: Не найден файл tahomabd.ttf, попросите его у автора скрипта - @vdmdrbshv (vk).')
    end
    if not doesFileExist('moonloader\\config\\SHelper\\fonts\\fa-solid-900.ttf') then
        print('[SHelper]: Не найден файл fa-solid-900.ttf, попросите его у автора скрипта - @vdmdrbshv (vk).')
    end

    sampAddChatMessage("{D235D2}[SHelper]: {FFFFFF}Скрипт успешно {A600A6}загружен {FFFFFF}и готов к работе!", 0xD235D2)
    sampAddChatMessage("{D235D2}[SHelper]: {FFFFFF}Для открытия основного меню используйте команду {A600A6}/" .. ini.commands.openmenu .. "{FFFFFF} или клавишу {A600A6}"..table.concat(rkeys.getKeysName(ActOpenMenuKey.v), " + ")..".", 0xD235D2)

    while true do
        wait(0)
        
    end
end

------- КАСТОМНЫЕ МЕНЮ -------
local tab = new.int(1)
local dab = new.int(1)
local navigation = {
    current = 1,
    list = { u8"Быстрые ответы", u8"Термины", u8"GPS" }
}
local tabs = {
    fa.ICON_FA_HOME..u8'\tОсновная информация',
    fa.ICON_FA_TOOLS..u8'\tНастройки скрипта',
    fa.ICON_FA_QUESTION_CIRCLE..u8'\tО скрипте',
}
local dabs = {
    u8'Авто-логины',
    u8'Счётчик репортов',
    u8'Активация меню',
    u8'Цветовая тема',
    u8'Прочее',
}

------- ОСНОВНОЕ МЕНЮ -------
local newFrame = imgui.OnFrame(
    function() return gfmenu.alpha > 0.00 end,
    function(self)
        imgui.PushStyleVarFloat(imgui.StyleVar.Alpha, gfmenu.alpha)
        imgui.SetNextWindowPos(imgui.ImVec2(sizeX / 2, sizeY / 2), imgui.Cond.FirstUseEver, imgui.ImVec2(0.5, 0.5))
        imgui.SetNextWindowSize(imgui.ImVec2(800, 400), imgui.Cond.FirstUseEver)
        imgui.PushStyleVarVec2(imgui.StyleVar.WindowPadding, imgui.ImVec2(0, 0))
        imgui.Begin("##GameFixer", new.bool(true), imgui.WindowFlags.NoCollapse + imgui.WindowFlags.NoResize + imgui.WindowFlags.NoTitleBar + imgui.WindowFlags.NoScrollbar)
            imgui.SetCursorPos(imgui.ImVec2(0, 0))
            imgui.PushStyleColor(imgui.Col.ChildBg, imgui.ImVec4(0.0, 0.0, 0.0, 0.0))
            imgui.BeginChild("##LeftMenu", imgui.ImVec2(220, 300), false)
                imgui.SetCursorPos(imgui.ImVec2(7, 40))
                imgui.PushFont(fonts[22])
                    imgui.PushFont(logofont)
                        if ini.settings.theme == 1 or ini.settings.theme == nil or ini.settings.theme == 0 then
                            imgui.PushStyleColor(imgui.Col.Text, imgui.ImVec4(inini.logocolor.r, inini.logocolor.g, inini.logocolor.b, inini.logocolor.a))
                        else
                            imgui.PushStyleColor(imgui.Col.Text, imgui.GetStyle().Colors[imgui.Col.ButtonHovered])
                        end
                        imgui.SetCursorPos(imgui.ImVec2(6, 23))
                        imgui.Text(fa.ICON_FA_COGS)
                        if ini.settings.sistema_pashalok == true then
                            if imgui.IsItemClicked(0) then
                                if ini.pashalki.proshel_logo == false then
                                    if ini.pashalki.kolvo == 0 then
                                        skolkoostalos_pashalok = '{A600A6}4 {FFFFFF}пасхалки'
                                        ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                                        ini.pashalki.proshel_logo = true
                                        save()
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}До разблокировки бонуса осталось ' .. skolkoostalos_pashalok .. ' :)', 0xD235D2)
                                    elseif ini.pashalki.kolvo == 1 then
                                        grammatika_pashalok = 'пасхалки'
                                        skolkoostalos_pashalok = '{A600A6}3 {FFFFFF}пасхалки'
                                        ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                                        ini.pashalki.proshel_logo = true
                                        save()
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}До разблокировки бонуса осталось ' .. skolkoostalos_pashalok .. ' :)', 0xD235D2)
                                    elseif ini.pashalki.kolvo == 2 then
                                        grammatika_pashalok = 'пасхалки'
                                        skolkoostalos_pashalok = '{A600A6}2 {FFFFFF}пасхалки'
                                        ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                                        ini.pashalki.proshel_logo = true
                                        save()
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}До разблокировки бонуса осталось ' .. skolkoostalos_pashalok .. ' :)', 0xD235D2)
                                    elseif ini.pashalki.kolvo == 3 then
                                        grammatika_pashalok = 'пасхалки'
                                        skolkoostalos_pashalok = '{A600A6}1 {FFFFFF}пасхалка'
                                        ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                                        ini.pashalki.proshel_logo = true
                                        save()
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}До разблокировки бонуса осталось ' .. skolkoostalos_pashalok .. ' :)', 0xD235D2)
                                    elseif ini.pashalki.kolvo == 4 then
                                        grammatika_pashalok = 'пасхалок'
                                        ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                                        ini.pashalki.proshel_logo = true
                                        save()
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Поздравляю! Ты собрал все пасхалки! Вот твой заслуженный приз!', 0xD235D2)
                                    end
                                else
                                    if ini.pashalki.kolvo == 5 then
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Вы уже собрали необходимое количество пасхалок!', 0xD235D2)
                                    else
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Данная пасхалка уже была использована!', 0xD235D2)
                                    end
                                end
                            end
                        end
                        imgui.SetCursorPos(imgui.ImVec2(68, 15))
                        imgui.PushFont(fonts[28])
                            imgui.Text(u8"SHelper 4.0")
                        imgui.PopFont()
                        imgui.SetCursorPos(imgui.ImVec2(92.5, 40))
                        imgui.PushFont(fonts[14])
                            imgui.Text(u8"F I N A L L Y")
                        imgui.PopFont()
                        imgui.PopStyleColor(1)
                    imgui.PopFont()
                imgui.PopFont()
                imgui.SetCursorPos(imgui.ImVec2(0, 110))
                imgui.PushFont(fonts[16])
                    imgui.PushFont(iconFont)
                        imgui.CustomMenu(tabs, tab, imgui.ImVec2(220, 34))
                    imgui.PopFont()
                imgui.PopFont()
            imgui.EndChild()
            imgui.SetCursorPos(imgui.ImVec2(5, imgui.GetWindowSize().y - 40))
            imgui.Text(u8"Автор:")
            imgui.SameLine()
            imgui.Link("https://vk.com/vdmdrbshv", "Vadim Drobyshev")
            imgui.SetCursorPos(imgui.ImVec2(5, imgui.GetWindowSize().y - 20))
            imgui.Text(u8"Версия:") imgui.SameLine()
            imgui.TextColored(imgui.ImVec4(0.40, 0.40, 0.40, 0.70), script_versiya)
            imgui.PopStyleColor(1)
            imgui.SameLine()
            imgui.PushStyleVarVec2(imgui.StyleVar.WindowPadding, imgui.ImVec2(10, 10))
            imgui.PushStyleVarFloat(imgui.StyleVar.ChildRounding, 0)
            imgui.SetCursorPos(imgui.ImVec2(220, 0))
            imgui.PushStyleVarFloat(imgui.StyleVar.ChildBorderSize, 0)
            imgui.BeginChild("##MainMenu", imgui.ImVec2(imgui.GetWindowSize().x, imgui.GetWindowSize().y), true)
                imgui.SetCursorPos(imgui.ImVec2(imgui.GetWindowSize().x-250, 7))
                if CloseButton("##Close", new.bool(true), 0) then
                    gfmenu.switch()
                end
                imgui.SetCursorPos(imgui.ImVec2(0, 35))
                imgui.PopStyleVar()
                imgui.PushStyleColor(imgui.Col.Border, imgui.ImVec4(0.0, 0.0, 0.0, 0.0))
                imgui.PushStyleColor(imgui.Col.ChildBg, imgui.ImVec4(0.0, 0.0, 0.0, 0.0))
                imgui.BeginChild("##MainMenuVnutri", imgui.ImVec2(imgui.GetWindowSize().x - 175, imgui.GetWindowSize().y - 40), true, imgui.WindowFlags.NoScrollWithMouse)
                    imgui.PopStyleColor(2)
                    imgui.PushFont(fonts[14])
                    if tab[0] == 1 then
                        imgui.SetCursorPos(imgui.ImVec2(5, 0))
                        imgui.BeginTitleChild(u8"Остальное1", imgui.ImVec2(570, 339), 0, 290, false)
                            local _, my_id = sampGetPlayerIdByCharHandle(PLAYER_PED)
                            local my_nick = sampGetPlayerNickname(my_id)
                            local ping = sampGetPlayerPing(my_id)
                            imgui.SetCursorPos(imgui.ImVec2(6, 0))
                            imgui.Columns(3)
                                imgui.SetCursorPos(imgui.ImVec2(6, 6))
                                imgui.Text(u8'Ваш ник: ' .. my_nick .. ' [' .. my_id .. ']') 
                                imgui.SetCursorPosX(6)
                                imgui.Text(u8'Ваш текущий пинг: ' .. ping .. 'ms')
                                imgui.SetCursorPosX(6)
                                imgui.Text(u8'Ваш уровень хелп. прав: ' .. ini.settings.lvl_helper)
                                imgui.SetColumnWidth(-1, 200)
                            imgui.NextColumn()
                                imgui.SetCursorPos(imgui.ImVec2(210, 6))
                                imgui.Text(u8'Онлайн (неделя): '.. get_clock(ini.statTimers.onweek_full))
                                imgui.SetCursorPos(imgui.ImVec2(210, 25))
                                imgui.Text(u8'AFK (сессия): '.. get_clock(sesAfk[0]))
                                imgui.SetCursorPos(imgui.ImVec2(210, 44))
                                imgui.Text(u8'AFK (неделя): ' .. get_clock(ini.statTimers.onweek_afk))
                                imgui.SetColumnWidth(-1, 180)
                            imgui.NextColumn()
                                imgui.SetCursorPos(imgui.ImVec2(392, 6))
                                imgui.Text(u8'Чистый (сессия): ' .. get_clock(sesOnline[0]))
                                imgui.SetCursorPos(imgui.ImVec2(392, 25))
                                imgui.Text(u8'Чистый (день): '.. get_clock(ini.statTimers.onday_online))
                                imgui.SetCursorPos(imgui.ImVec2(392, 44))
                                imgui.Text(u8'Чистый (неделя): '.. get_clock(ini.statTimers.onweek_online))
                                imgui.SetColumnWidth(-1, 179)
                            imgui.Columns(1)
                            imgui.Separator()
                            imgui.SetCursorPosX(6)






                            if imgui.Button(u8'Открыть /supports', imgui.ImVec2(276, 30)) then
                                if os.clock() - tmsp < 5 then
                                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Ошибка! Попробуйте заново через ' .. get_timer(5 - (os.clock() - tmsp)) .. '.', 0xD235D2)
                                else
                                    sampSendChat('/supports')
                                    tmsp = os.clock()
                                end
                            end
                            imgui.SameLine()
                            if imgui.Button(u8'Открыть /ans', imgui.ImVec2(275, 30)) then
                                gfmenu.switch()
                                lua_thread.create(function()
                                    wait(400)
                                    sampSendChat('/ans')
                                end)
                            end

                            imgui.Button(u8'тест обновы', imgui.ImVec2(100, 30))
                            imgui.Button(u8'тест обновы2', imgui.ImVec2(100, 30))
                            imgui.Button(u8'тест обновы3', imgui.ImVec2(100, 30))


                            imgui.SetCursorPosX(6)
                            imgui.NewInputText('##vk_telegram', buffers.vk_message, 300, u8'Введите свою проблему..', 2)
                            imgui.SetCursorPosX(6)
                            if imgui.Button(u8'Отправить', imgui.ImVec2(300, 25)) then
                                if ffi.string(buffers.vk_message) == '' then
                                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пустое поле ввода.', 0xD235D2)
                                else
                                    if os.clock() - tmobr < 300 then
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Ошибка! Попробуйте заново через ' .. get_timer(300 - (os.clock() - tmobr)) .. '.', 0xD235D2)
                                    else
                                        sendTelegramNotification('#сообщение\n\nХелпер '.. sampGetPlayerNickname(id) .. ' (' .. ini.settings.lvl_helper .. ' лвл) прислал сообщение:\n- ' .. u8:decode(ffi.string(buffers.vk_message)) .. '.')
                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Ваше сообщение успешно {A600A6}доставлено!', 0xD235D2)
                                        tmobr = os.clock()
                                    end
                                end
                            end
                        imgui.EndChild()
                    elseif tab[0] == 2 then
                        imgui.SetCursorPos(imgui.ImVec2(5, 0))
                        imgui.BeginTitleChild(u8"Настройки скрипта", imgui.ImVec2(570, 339), 0, 290, false, imgui.WindowFlags.NoScrollWithMouse + imgui.WindowFlags.NoScrollbar)
                            imgui.SetCursorPos(imgui.ImVec2(-2, 50))
                            imgui.CustomSelectable(dabs, dab, imgui.ImVec2(190, 35))
                            imgui.SetCursorPos(imgui.ImVec2(192, -9))
                            imgui.BeginTitleChild(u8"Правое меню", imgui.ImVec2(369, 317), 0, 290, false)
                                if dab[0] == 1 then
                                    imgui.SetCursorPos(imgui.ImVec2(6, 6))
                                    if imgui.Checkbox(u8"[Вкл/выкл] Автологин в аккаунт", checkboxes.autologin_acc) then
                                        ini.autologins.autologin_acc = checkboxes.autologin_acc[0]
                                        save()
                                    end
                                    if imgui.IsItemClicked(1) then
                                        if ini.notifications.notif_autologinacc == true then
                                            ini.notifications.notif_autologinacc = false
                                            save()
                                        else 
                                            ini.notifications.notif_autologinacc = true
                                            save()
                                        end
                                    end
                                    imgui.SameLine()
                                    imgui.TextDisabled('(?)')
                                    local peremennaya = nil
                                    if ini.notifications.notif_autologinacc == false then
                                        peremennaya = u8'выключено'
                                    elseif ini.notifications.notif_autologinacc == true then
                                        peremennaya = u8'включено'
                                    end
                                    imgui.Hint(u8'- Если Вы хотите отключить оповещение об успешном входе,\nто нажмите ПКМ на чекбокс.\n- Оповещение сейчас: ' .. peremennaya .. '.', 0)                            
                                    imgui.SetCursorPosX(6)
                                    if ini.autologins.autologin_acc == true then
                                        imgui.NewInputText('##pass_account', buffers.pass_account, 357, u8'Введите пароль от аккаунта..', 2)
                                        imgui.SetCursorPosX(6)
                                        if imgui.Button(u8'Сохранить##1', imgui.ImVec2(175.5, 25)) then
                                            if ffi.string(buffers.pass_account) == '' then
                                                sampAddChatMessage("{D235D2}[SHelper]: {FFFFFF}Пустое поле ввода.", 0xD235D2)
                                            else
                                                ini.autologins.password_acc = u8:decode(ffi.string(buffers.pass_account))
                                                save()
                                                sampAddChatMessage("{D235D2}[SHelper]: {FFFFFF}Пароль от аккаунта успешно {A600A6}сохранён.", 0xD235D2)
                                            end
                                        end
                                        imgui.SameLine()
                                        if imgui.Button(u8'Очистить', imgui.ImVec2(175.5, 25)) then
                                            if ini.autologins.password_acc == 0 then
                                                sampAddChatMessage("{D235D2}[SHelper]: {FFFFFF}Невозможно сбросить пароль от аккаунта!", 0xD235D2)
                                            else
                                                ini.autologins.password_acc = 0
                                                save()
                                                sampAddChatMessage("{D235D2}[SHelper]: {FFFFFF}Пароль от аккаунта сброшен.", 0xD235D2)
                                            end
                                        end
                                        imgui.Separator()
                                    end
                                    imgui.SetCursorPosX(6)
                                    if imgui.Checkbox(u8"[Вкл/выкл] Автологин в хелп. панель", checkboxes.autologin_help) then
                                        ini.autologins.autologin_help = checkboxes.autologin_help[0]
                                        save()
                                    end
                                    if imgui.IsItemClicked(1) then
                                        if ini.notifications.notif_autologinpanel == true then
                                            ini.notifications.notif_autologinpanel = false
                                            save()
                                        else 
                                            ini.notifications.notif_autologinpanel = true
                                            save()
                                        end
                                    end
                                    imgui.SameLine()
                                    imgui.TextDisabled('(?)')
                                    local peremennaya2 = nil
                                    if ini.notifications.notif_autologinpanel == false then
                                        peremennaya2 = u8'выключено'
                                    elseif ini.notifications.notif_autologinpanel == true then
                                        peremennaya2 = u8'включено'
                                    end
                                    imgui.Hint(u8'- Если Вы хотите отключить оповещение об успешном логине,\nто нажмите ПКМ на чекбокс.\n- Оповещение сейчас: ' .. peremennaya2 .. '.', 0)                            
                                    imgui.SetCursorPosX(6)
                                    if ini.autologins.autologin_help == true then
                                        imgui.NewInputText('##pass_help', buffers.pass_help, 357, u8'Введите пароль от хелп. панели..', 2)
                                        imgui.SetCursorPosX(6)
                                        if imgui.Button(u8'Сохранить##2', imgui.ImVec2(175.5, 25)) then
                                            if ffi.string(buffers.pass_help) == '' then
                                                sampAddChatMessage("{D235D2}[SHelper]: {FFFFFF}Пустое поле ввода.", 0xD235D2)
                                            else
                                                ini.autologins.password_help = u8:decode(ffi.string(buffers.pass_help))
                                                save()
                                                sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пароль от хелп. панели успешно {A600A6}сохранён.', 0xD235D2)
                                            end
                                        end
                                        imgui.SameLine()
                                        if imgui.Button(u8'Очистить##1', imgui.ImVec2(175.5, 25)) then
                                            if ini.autologins.password_help == 0 then
                                                sampAddChatMessage("{D235D2}[SHelper]: {FFFFFF}Невозможно сбросить пароль от хелп. панели!", 0xD235D2)
                                            else
                                                ini.autologins.password_help = 0
                                                save()
                                                sampAddChatMessage("{D235D2}[SHelper]: {FFFFFF}Пароль от хелп. панели сброшен.", 0xD235D2)
                                            end
                                        end              
                                    end
                                    imgui.Separator()
                                    imgui.SetCursorPosX(6)
                                    if imgui.Button(u8'Показать сохранённые пароли', imgui.ImVec2(357, 30)) then
                                        imgui.OpenPopup(u8'Сохранённые пароли')
                                    end
                                    if imgui.BeginPopupModal(u8'Сохранённые пароли', nil, 2) then
                                        imgui.SetCursorPosX(6)
                                        if ini.autologins.password_acc == 0 then
                                            imgui.Text(u8'- Пароль от аккаунта не установлен.')
                                        else
                                            imgui.Text(u8'- Сохранённый пароль от аккаунта: ' .. ini.autologins.password_acc)
                                        end
                                        imgui.SetCursorPosX(6)
                                        if ini.autologins.password_help == 0 then
                                            imgui.Text(u8'- Пароль от хелп. панели не установлен.')
                                        else
                                            imgui.Text(u8'- Сохранённый пароль от хелп. панели: ' .. ini.autologins.password_help)
                                        end
                                        imgui.SetCursorPosX(6)
                                        if imgui.Button(u8'Закрыть', imgui.ImVec2(330, 25)) then
                                            imgui.CloseCurrentPopup()
                                        end
                                        imgui.EndPopup()
                                    end
                                elseif dab[0] == 2 then
                                    imgui.SetCursorPos(imgui.ImVec2(6, 6))
                                    if imgui.Checkbox(u8"[Вкл/выкл] Счётчик репортов", checkboxes.counter) then
                                        ini.repcounter.counter = checkboxes.counter[0]
                                        save()
                                        twsmenu.switch()
                                    end
                                    if ini.repcounter.counter == true then
                                        imgui.Separator()
                                        imgui.SetCursorPosX(6)
                                        if imgui.Checkbox(u8"[Вкл/выкл] Репорты за сессию", checkboxes.counter_rep_seans) then
                                            ini.repcounter.counter_rep_seans = checkboxes.counter_rep_seans[0]
                                            save()
                                        end
                                        imgui.SetCursorPosX(6)
                                        if imgui.Checkbox(u8"[Вкл/выкл] Репорты (всего)", checkboxes.counter_report_vsego) then
                                            ini.repcounter.counter_report_vsego = checkboxes.counter_report_vsego[0]
                                            save()
                                        end
                                        imgui.SetCursorPosX(6)
                                        if imgui.Checkbox(u8"[Вкл/выкл] Онлайн за сессию", checkboxes.counter_online_seans) then
                                            ini.repcounter.counter_online_seans = checkboxes.counter_online_seans[0]
                                            save()
                                        end
                                        imgui.SetCursorPosX(6)
                                        if imgui.Checkbox(u8"[Вкл/выкл] Онлайн за день", checkboxes.counter_online_day) then
                                            ini.repcounter.counter_online_day = checkboxes.counter_online_day[0]
                                            save()
                                        end                     
                                        imgui.SetCursorPosX(6)
                                        if imgui.Checkbox(u8"[Вкл/выкл] АФК за день", checkboxes.counter_afk_day) then
                                            ini.repcounter.counter_afk_day = checkboxes.counter_afk_day[0]
                                            save()
                                        end
                                        imgui.Separator()
                                        imgui.PushFont(iconFont)
                                            imgui.SetCursorPosX(6)
                                            if imgui.Button(fa.ICON_FA_BROOM .. u8' Обнулить счётчик', imgui.ImVec2(357, 30)) then
                                                if ini.repcounter.otveti_all == 0 then
                                                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Невозможно обнулить счётчик!', 0xD235D2)
                                                else
                                                    sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Счётчик успешно сброшен!', 0xD235D2)
                                                    ini.repcounter.otveti_all = 0
                                                    save()
                                                end
                                            end
                                        imgui.PopFont()
                                    end
                                elseif dab[0] == 3 then
                                    imgui.SetCursorPos(imgui.ImVec2(6, 6))
                                    imgui.PushItemWidth(335)
                                        if imgui.HotKey("##1открыть меню", ActOpenMenuKey, tLastKeys, 100) then
                                            rkeys.changeHotKey(bindOpenmenu, ActOpenMenuKey.v)
                                            sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Вы успешно {A600A6}сменили{FFFFFF} клавишу открытия основного меню!', 0xD235D2)
                                            sampAddChatMessage("{D235D2}[SHelper]: {FFFFFF}Старая клавиша: {A600A6}" .. table.concat(rkeys.getKeysName(tLastKeys.v), " + ") .. "{FFFFFF} | Новая клавиша: {A600A6}" .. table.concat(rkeys.getKeysName(ActOpenMenuKey.v), " + ") .. '.', 0xD235D2)
                                            ini.settings.openmenukeys = encodeJson(ActOpenMenuKey.v)
                                            save()
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Открыть меню скрипта")
                                        imgui.SetCursorPosX(6)
                                        if imgui.HotKey("##2открыть меню", ActOpenMenuTerminovKey, tLastKeys, 100) then
                                            rkeys.changeHotKey(bindOpenmenuterminov, ActOpenMenuTerminovKey.v)
                                            sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Вы успешно {A600A6}сменили{FFFFFF} клавишу открытия меню быстрых ответов!', 0xD235D2)
                                            sampAddChatMessage("{D235D2}[SHelper]: {FFFFFF}Старая клавиша: {A600A6}" .. table.concat(rkeys.getKeysName(tLastKeys.v), " + ") .. "{FFFFFF} | Новая клавиша: {A600A6}" .. table.concat(rkeys.getKeysName(ActOpenMenuTerminovKey.v), " + ") .. '.', 0xD235D2)
                                            ini.settings.openmenuterminov = encodeJson(ActOpenMenuTerminovKey.v)
                                            save()
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Открыть меню быстрых ответов")
                                    imgui.PopItemWidth()
                                    imgui.Separator()
                                    imgui.CenterText(u8"Своя команда открытия меню")
                                    imgui.SetCursorPosX(6)
                                    imgui.NewInputText('##cmd_opnmenu', buffers.cmd_openmenu, 356, u8'Введите желаемую команду.. (БЕЗ /)', 2)
                                    imgui.SetCursorPosX(6)
                                    if imgui.Button(u8'Сохранить##3', imgui.ImVec2(356, 28)) then
                                        if ffi.string(buffers.cmd_openmenu) == '' then
                                            sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пустое поле ввода.', 0xD235D2)
                                        else
                                            ini.commands.openmenu = u8:decode(ffi.string(buffers.cmd_openmenu))
                                            save()
                                            sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Вы успешно {A600A6}сменили{FFFFFF} команду открытия главного меню на {A600A6}/' .. u8:decode(ffi.string(buffers.cmd_openmenu)) .. '. {FFFFFF}Скрипт перезагружается.', 0xD235D2)
                                            thisScript():reload()
                                        end
                                    end
                                elseif dab[0] == 4 then
                                    imgui.PushItemWidth(120)
                                    local clrs = {
                                        imgui.ImVec4(inini.Button.r, inini.Button.g, inini.Button.b, inini.Button.a),
                                        imgui.ImVec4(1.00, 0.28, 0.28, 1.00),
                                        imgui.ImVec4(0.98, 0.43, 0.26, 1.00),
                                        imgui.ImVec4(0.26, 0.98, 0.85, 1.00),
                                        imgui.ImVec4(0.10, 0.09, 0.12, 1.00),
                                        imgui.ImVec4(0.41, 0.19, 0.63, 1.00),
                                        imgui.ImVec4(0.20, 0.25, 0.29, 1.00),
                                        imgui.ImVec4(0.00, 0.69, 0.33, 1.00),
                                        imgui.ImVec4(0.46, 0.11, 0.29, 1.00),
                                        imgui.ImVec4(0.13, 0.75, 0.55, 1.00),
                                        imgui.ImVec4(0.73, 0.36, 0.00, 1.00),
                                        imgui.ImVec4(0.26, 0.59, 0.98, 1.00),
                                    }
                                    imgui.SetCursorPos(imgui.ImVec2(6, 6))
                                    imgui.Text(u8"Цветовая тема:")
                                    imgui.PushFont(fonts[16])
                                        imgui.SetCursorPosX(6)
                                        if imgui.Button(fa.ICON_FA_PENCIL_ALT..u8"") then
                                            ini.settings.theme = 1
                                            save()
                                            SwitchTheStyle(ini.settings.theme)
                                        end
                                    imgui.PopFont()
                                    imgui.Hint(u8'Настройка личной темы.', 0)
                                    imgui.SameLine(34)
                                    for i = 2, #tbStyle do
                                        imgui.PushStyleColor(imgui.Col.CheckMark, clrs[i])
                                        if ini.settings.theme == i then
                                            imgui.PushStyleColor(imgui.Col.FrameBg, imgui.ImVec4(0.80, 0.80, 0.80, 1.00))
                                        end
                                        if imgui.RadioButtonBool(u8"##тема"..i, ini.settings.theme == i and false or true) then
                                            ini.settings.theme = i
                                            save()
                                            SwitchTheStyle(ini.settings.theme)
                                        end
                                        if ini.settings.theme == i then
                                            imgui.PopStyleColor()
                                        end
                                        imgui.SameLine()
                                    end
                                    imgui.PopStyleColor()
                                    SwitchTheStyle(ini.settings.theme)
                                    if ini.settings.theme == 1 or ini.settings.theme == nil or ini.settings.theme == 0 then
                                        imgui.SetCursorPosY(58)
                                        imgui.Separator()
                                        imgui.SetCursorPos(imgui.ImVec2(6, 66))
                                        if imgui.ColorEdit4("##Color Panel Left Up", icolors.PLeftUp, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.PLeftUp.r, inini.PLeftUp.g, inini.PLeftUp.b, inini.PLeftUp.a = tonumber(("%.3f"):format(icolors.PLeftUp[0])), tonumber(("%.3f"):format(icolors.PLeftUp[1])), tonumber(("%.3f"):format(icolors.PLeftUp[2])), tonumber(("%.3f"):format(icolors.PLeftUp[3]))
                                            inicfg.save(inini, colors_theme) 
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет активной вкладки (левый верх)")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##Color Panel Left Down", icolors.PLeftDown, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.PLeftDown.r, inini.PLeftDown.g, inini.PLeftDown.b, inini.PLeftDown.a = tonumber(("%.3f"):format(icolors.PLeftDown[0])), tonumber(("%.3f"):format(icolors.PLeftDown[1])), tonumber(("%.3f"):format(icolors.PLeftDown[2])), tonumber(("%.3f"):format(icolors.PLeftDown[3]))
                                            inicfg.save(inini, colors_theme)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет активной вкладки (левый низ)")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##Color Panel Right Up", icolors.PRightUp, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.PRightUp.r, inini.PRightUp.g, inini.PRightUp.b, inini.PRightUp.a = tonumber(("%.3f"):format(icolors.PRightUp[0])), tonumber(("%.3f"):format(icolors.PRightUp[1])), tonumber(("%.3f"):format(icolors.PRightUp[2])), tonumber(("%.3f"):format(icolors.PRightUp[3]))
                                            inicfg.save(inini, colors_theme)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет активной вкладки (правый верх)")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##Color Panel Right Down", icolors.PRightDown, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.PRightDown.r, inini.PRightDown.g, inini.PRightDown.b, inini.PRightDown.a = tonumber(("%.3f"):format(icolors.PRightDown[0])), tonumber(("%.3f"):format(icolors.PRightDown[1])), tonumber(("%.3f"):format(icolors.PRightDown[2])), tonumber(("%.3f"):format(icolors.PRightDown[3]))
                                            inicfg.save(inini, colors_theme)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет активной вкладки (правый низ)")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##ActiveText", icolors.ActiveText,  imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.ActiveText.r, inini.ActiveText.g, inini.ActiveText.b, inini.ActiveText.a = tonumber(("%.3f"):format(icolors.ActiveText[0])), tonumber(("%.3f"):format(icolors.ActiveText[1])), tonumber(("%.3f"):format(icolors.ActiveText[2])), tonumber(("%.3f"):format(icolors.ActiveText[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет активного текста")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##PassiveText", icolors.PassiveText, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.PassiveText.r, inini.PassiveText.g, inini.PassiveText.b, inini.PassiveText.a = tonumber(("%.3f"):format(icolors.PassiveText[0])), tonumber(("%.3f"):format(icolors.PassiveText[1])), tonumber(("%.3f"):format(icolors.PassiveText[2])), tonumber(("%.3f"):format(icolors.PassiveText[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет пассивного текста")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##WindowBG", icolors.WindowBG,  imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.WindowBG.r, inini.WindowBG.g, inini.WindowBG.b, inini.WindowBG.a = tonumber(("%.3f"):format(icolors.WindowBG[0])), tonumber(("%.3f"):format(icolors.WindowBG[1])), tonumber(("%.3f"):format(icolors.WindowBG[2])), tonumber(("%.3f"):format(icolors.WindowBG[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет заднего фона окна")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##ChildBG", icolors.ChildBG,  imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.ChildBG.r, inini.ChildBG.g, inini.ChildBG.b, inini.ChildBG.a = tonumber(("%.3f"):format(icolors.ChildBG[0])), tonumber(("%.3f"):format(icolors.ChildBG[1])), tonumber(("%.3f"):format(icolors.ChildBG[2])), tonumber(("%.3f"):format(icolors.ChildBG[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет заднего фона чилда")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##ColorText", icolors.ColorText, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.ColorText.r, inini.ColorText.g, inini.ColorText.b, inini.ColorText.a = tonumber(("%.3f"):format(icolors.ColorText[0])), tonumber(("%.3f"):format(icolors.ColorText[1])), tonumber(("%.3f"):format(icolors.ColorText[2])), tonumber(("%.3f"):format(icolors.ColorText[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет текста")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##FrameBg", icolors.FrameBg, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.FrameBg.r, inini.FrameBg.g, inini.FrameBg.b, inini.FrameBg.a = tonumber(("%.3f"):format(icolors.FrameBg[0])), tonumber(("%.3f"):format(icolors.FrameBg[1])), tonumber(("%.3f"):format(icolors.FrameBg[2])), tonumber(("%.3f"):format(icolors.FrameBg[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет фона фрейма")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##FrameBgHovered", icolors.FrameBgHovered, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.FrameBgHovered.r, inini.FrameBgHovered.g, inini.FrameBgHovered.b, inini.FrameBgHovered.a = tonumber(("%.3f"):format(icolors.FrameBgHovered[0])), tonumber(("%.3f"):format(icolors.FrameBgHovered[1])), tonumber(("%.3f"):format(icolors.FrameBgHovered[2])), tonumber(("%.3f"):format(icolors.FrameBgHovered[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет фона фрейма при наведении")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##FrameBgActive", icolors.FrameBgActive, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.FrameBgActive.r, inini.FrameBgActive.g, inini.FrameBgActive.b, inini.FrameBgActive.a = tonumber(("%.3f"):format(icolors.FrameBgActive[0])), tonumber(("%.3f"):format(icolors.FrameBgActive[1])), tonumber(("%.3f"):format(icolors.FrameBgActive[2])), tonumber(("%.3f"):format(icolors.FrameBgActive[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет фона активного фрейма")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##CheckMark", icolors.CheckMark, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.CheckMark.r, inini.CheckMark.g, inini.CheckMark.b, inini.CheckMark.a = tonumber(("%.3f"):format(icolors.CheckMark[0])), tonumber(("%.3f"):format(icolors.CheckMark[1])), tonumber(("%.3f"):format(icolors.CheckMark[2])), tonumber(("%.3f"):format(icolors.CheckMark[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет чек марка")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##SliderGrab", icolors.SliderGrab, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.SliderGrab.r, inini.SliderGrab.g, inini.SliderGrab.b, inini.SliderGrab.a = tonumber(("%.3f"):format(icolors.SliderGrab[0])), tonumber(("%.3f"):format(icolors.SliderGrab[1])), tonumber(("%.3f"):format(icolors.SliderGrab[2])), tonumber(("%.3f"):format(icolors.SliderGrab[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет слайдер граба")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##SliderGrabActive", icolors.SliderGrabActive, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.SliderGrabActive.r, inini.SliderGrabActive.g, inini.SliderGrabActive.b, inini.SliderGrabActive.a = tonumber(("%.3f"):format(icolors.SliderGrabActive[0])), tonumber(("%.3f"):format(icolors.SliderGrabActive[1])), tonumber(("%.3f"):format(icolors.SliderGrabActive[2])), tonumber(("%.3f"):format(icolors.SliderGrabActive[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет активного слайдер граба") 
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##Button", icolors.Button, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.Button.r, inini.Button.g, inini.Button.b, inini.Button.a = tonumber(("%.3f"):format(icolors.Button[0])), tonumber(("%.3f"):format(icolors.Button[1])), tonumber(("%.3f"):format(icolors.Button[2])), tonumber(("%.3f"):format(icolors.Button[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет кнопки") 
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##ButtonHovered", icolors.ButtonHovered, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.ButtonHovered.r, inini.ButtonHovered.g, inini.ButtonHovered.b, inini.ButtonHovered.a = tonumber(("%.3f"):format(icolors.ButtonHovered[0])), tonumber(("%.3f"):format(icolors.ButtonHovered[1])), tonumber(("%.3f"):format(icolors.ButtonHovered[2])), tonumber(("%.3f"):format(icolors.ButtonHovered[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет кнопки при наведении")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##ButtonActive", icolors.ButtonActive, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.ButtonActive.r, inini.ButtonActive.g, inini.ButtonActive.b, inini.ButtonActive.a = tonumber(("%.3f"):format(icolors.ButtonActive[0])), tonumber(("%.3f"):format(icolors.ButtonActive[1])), tonumber(("%.3f"):format(icolors.ButtonActive[2])), tonumber(("%.3f"):format(icolors.ButtonActive[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет активной кнопки")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##Header", icolors.Header, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.Header.r, inini.Header.g, inini.Header.b, inini.Header.a = tonumber(("%.3f"):format(icolors.Header[0])), tonumber(("%.3f"):format(icolors.Header[1])), tonumber(("%.3f"):format(icolors.Header[2])), tonumber(("%.3f"):format(icolors.Header[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет хайдера")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##HeaderHovered", icolors.HeaderHovered, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.HeaderHovered.r, inini.HeaderHovered.g, inini.HeaderHovered.b, inini.HeaderHovered.a = tonumber(("%.3f"):format(icolors.HeaderHovered[0])), tonumber(("%.3f"):format(icolors.HeaderHovered[1])), tonumber(("%.3f"):format(icolors.HeaderHovered[2])), tonumber(("%.3f"):format(icolors.HeaderHovered[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет хайдера при наведении")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##HeaderActive", icolors.HeaderActive, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.HeaderActive.r, inini.HeaderActive.g, inini.HeaderActive.b, inini.HeaderActive.a = tonumber(("%.3f"):format(icolors.HeaderActive[0])), tonumber(("%.3f"):format(icolors.HeaderActive[1])), tonumber(("%.3f"):format(icolors.HeaderActive[2])), tonumber(("%.3f"):format(icolors.HeaderActive[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет активного хайдера") 
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##ScrollbarBg", icolors.ScrollbarBg, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.ScrollbarBg.r, inini.ScrollbarBg.g, inini.ScrollbarBg.b, inini.ScrollbarBg.a = tonumber(("%.3f"):format(icolors.ScrollbarBg[0])), tonumber(("%.3f"):format(icolors.ScrollbarBg[1])), tonumber(("%.3f"):format(icolors.ScrollbarBg[2])), tonumber(("%.3f"):format(icolors.ScrollbarBg[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет фона скроллбара")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##ScrollbarGrab", icolors.ScrollbarGrab, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.ScrollbarGrab.r, inini.ScrollbarGrab.g, inini.ScrollbarGrab.b, inini.ScrollbarGrab.a = tonumber(("%.3f"):format(icolors.ScrollbarGrab[0])), tonumber(("%.3f"):format(icolors.ScrollbarGrab[1])), tonumber(("%.3f"):format(icolors.ScrollbarGrab[2])), tonumber(("%.3f"):format(icolors.ScrollbarGrab[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет скроллбарграба")
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##ScrollbarGrabHovered", icolors.ScrollbarGrabHovered, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.ScrollbarGrabHovered.r, inini.ScrollbarGrabHovered.g, inini.ScrollbarGrabHovered.b, inini.ScrollbarGrabHovered.a = tonumber(("%.3f"):format(icolors.ScrollbarGrabHovered[0])), tonumber(("%.3f"):format(icolors.ScrollbarGrabHovered[1])), tonumber(("%.3f"):format(icolors.ScrollbarGrabHovered[2])), tonumber(("%.3f"):format(icolors.ScrollbarGrabHovered[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет скроллбара при наведении") 
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##ScrollbarGrabActive", icolors.ScrollbarGrabActive, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.ScrollbarGrabActive.r, inini.ScrollbarGrabActive.g, inini.ScrollbarGrabActive.b, inini.ScrollbarGrabActive.a = tonumber(("%.3f"):format(icolors.ScrollbarGrabActive[0])), tonumber(("%.3f"):format(icolors.ScrollbarGrabActive[1])), tonumber(("%.3f"):format(icolors.ScrollbarGrabActive[2])), tonumber(("%.3f"):format(icolors.ScrollbarGrabActive[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет активного скроллбара") 
                                        imgui.SetCursorPosX(6)
                                        if imgui.ColorEdit4("##LogoColor", icolors.LogoColor, imgui.ColorEditFlags.AlphaBar + imgui.ColorEditFlags.NoInputs) then
                                            inini.logocolor.r, inini.logocolor.g, inini.logocolor.b, inini.logocolor.a = tonumber(("%.3f"):format(icolors.LogoColor[0])), tonumber(("%.3f"):format(icolors.LogoColor[1])), tonumber(("%.3f"):format(icolors.LogoColor[2])), tonumber(("%.3f"):format(icolors.LogoColor[3]))
                                            inicfg.save(inini, colors_theme)
                                            SwitchTheStyle(1)
                                        end
                                        imgui.SameLine()
                                        imgui.Text(u8"- Цвет логотипа") 
                                        if ini.settings.sistema_pashalok == true then
                                            imgui.TextDisabled(u8'Ого, ты долистал до самого конца. Нажми на меня)')
                                            if imgui.IsItemClicked(0) then
                                                if ini.pashalki.proshel_theme == false then
                                                    if ini.pashalki.kolvo == 0 then
                                                        skolkoostalos_pashalok = '{A600A6}4 {FFFFFF}пасхалки'
                                                        ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                                                        ini.pashalki.proshel_theme = true
                                                        save()
                                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}До разблокировки бонуса осталось ' .. skolkoostalos_pashalok .. ' :)', 0xD235D2)
                                                    elseif ini.pashalki.kolvo == 1 then
                                                        grammatika_pashalok = 'пасхалки'
                                                        skolkoostalos_pashalok = '{A600A6}3 {FFFFFF}пасхалки'
                                                        ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                                                        ini.pashalki.proshel_theme = true
                                                        save()
                                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}До разблокировки бонуса осталось ' .. skolkoostalos_pashalok .. ' :)', 0xD235D2)
                                                    elseif ini.pashalki.kolvo == 2 then
                                                        grammatika_pashalok = 'пасхалки'
                                                        skolkoostalos_pashalok = '{A600A6}2 {FFFFFF}пасхалки'
                                                        ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                                                        ini.pashalki.proshel_theme = true
                                                        save()
                                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}До разблокировки бонуса осталось ' .. skolkoostalos_pashalok .. ' :)', 0xD235D2)
                                                    elseif ini.pashalki.kolvo == 3 then
                                                        grammatika_pashalok = 'пасхалки'
                                                        skolkoostalos_pashalok = '{A600A6}1 {FFFFFF}пасхалка'
                                                        ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                                                        ini.pashalki.proshel_theme = true
                                                        save()
                                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}До разблокировки бонуса осталось ' .. skolkoostalos_pashalok .. ' :)', 0xD235D2)
                                                    elseif ini.pashalki.kolvo == 4 then
                                                        grammatika_pashalok = 'пасхалок'
                                                        ini.pashalki.kolvo = ini.pashalki.kolvo + 1
                                                        ini.pashalki.proshel_theme = true
                                                        save()
                                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Пасхалка добавлена в копилку. Сейчас у вас {A600A6}' .. ini.pashalki.kolvo .. ' {FFFFFF}' .. grammatika_pashalok .. '.', 0xD235D2)
                                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Поздравляю! Ты собрал все пасхалки! Вот твой заслуженный приз!', 0xD235D2)
                                                    end
                                                else
                                                    if ini.pashalki.kolvo == 5 then
                                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Вы уже собрали необходимое количество пасхалок!', 0xD235D2)
                                                    else
                                                        sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Данная пасхалка уже была использована!', 0xD235D2)
                                                    end
                                                end
                                            end
                                        end
                                    end
                                elseif dab[0] == 5 then
                                    imgui.SetCursorPos(imgui.ImVec2(6, 6))
                                    if imgui.Checkbox(u8"[Вкл/выкл] Кастомный вид некоторых команд", checkboxes.custom_functions) then
                                        ini.settings.custom_functions = checkboxes.custom_functions[0]
                                        save()
                                    end
                                    imgui.SameLine()
                                    imgui.TextDisabled('(?)')
                                    imgui.Hint(u8'Данная функция заменяет внешний вид следующих строчек:\n- Весь /supports и /admins,\n- Логин и выход из панели хелпера,\n- Отсутствие репорта.', 0)
                                    imgui.SetCursorPosX(6)
                                    if imgui.Checkbox(u8"[Вкл/выкл] Система пасхалок", checkboxes.sistema_pashalok) then
                                        ini.settings.sistema_pashalok = checkboxes.sistema_pashalok[0]
                                        save()
                                    end
                                    imgui.SameLine()
                                    imgui.TextDisabled('(?)')
                                    imgui.Hint(u8'Данная функция добавляет 5 пасхалок,\nнайдя которые Вы получите секретный приз.', 0)
                                    imgui.SetCursorPosX(6)
                                    if imgui.Checkbox(u8"[Вкл/выкл] Меню быстрых ответов", checkboxes.bistrie_otveti) then
                                        ini.settings.bistrie_otveti = checkboxes.bistrie_otveti[0]
                                        save()
                                    end
                                    imgui.SameLine()
                                    imgui.TextDisabled('(?)')
                                    imgui.Hint(u8'При ответе на репорт у вас будет появляться это меню.', 0)
                                end
                            imgui.EndChild()
                        imgui.EndChild()
                    elseif tab[0] == 3 then
                        imgui.SetCursorPos(imgui.ImVec2(5, 0))
                        imgui.BeginTitleChild(u8"Остальное2", imgui.ImVec2(570, 339), 0, 290, false)
                            imgui.SetCursorPosY(3)
                            imgui.PushFont(fonts[28])
                                imgui.CenterText(u8'Support Helper 4.0')
                            imgui.PopFont()
                            imgui.PushFont(fonts[15])
                                imgui.SetCursorPosY(36)
                                imgui.CenterText(u8'- История создания -')
                                imgui.SetCursorPos(imgui.ImVec2(6, 53))
                                imgui.Text(u8'- Первая версия скрипта была создана ещё 23 марта 2023 г. и представляла собой\nпростое окно с быстрыми ответами. К сожалению, она не вышла в свет, т. к. была\nочень баганной.\n- Вторая версия скрипта была создана 30 апреля 2022 года и была более расширен-\nной, но также не вышла в общий доступ из-за багов и недоработок.\n- Третья версия скрипта была создана 22 июля того же года, и даже смогла попасть\nв руки некоторых хелперов. Но в ней присутствовали баги, которые мешали пользо-\nваться скриптом.')
                                imgui.SetCursorPos(imgui.ImVec2(6, 180))
                                imgui.Text(u8'26 июня 2023 г. была закончена работа над новой, финальной версией скрипта ли-\nнейки SHelper! Я постарался вместить в этой версии всё, чтобы сделать игру хелпера\nмаксимально приятной и, главное, комфортной.')
                                imgui.SetCursorPosY(237)
                                imgui.CenterText(u8'- Функционал -')
                                imgui.SetCursorPos(imgui.ImVec2(6, 254.5))
                                imgui.Text(u8'- Система авто-логинов;\n- Настраиваемый счётчик репортов и онлайна;\n- Удобное меню быстрых ответов;\n- Возможность настроить цвет каждого элемента под себя;\n- Прочие возможности и фишки.')
                            imgui.PopFont()
                        imgui.EndChild()
                    end
                    imgui.PopFont()
                imgui.EndChild()
            imgui.EndChild()
        imgui.End()
        imgui.PopStyleVar()
    end
)




------- БЫСТРЫЕ ОТВЕТЫ НА РЕПОРТЫ -------
local newFrame = imgui.OnFrame(
    function() return thdmenu.alpha > 0.00 end,
    function(self)
        imgui.PushStyleVarFloat(imgui.StyleVar.Alpha, thdmenu.alpha)
        imgui.SetNextWindowPos(imgui.ImVec2(sizeX / 1.13, sizeY / 1.17), imgui.Cond.FirstUseEver, imgui.ImVec2(0.5, 0.5))
        imgui.SetNextWindowSize(imgui.ImVec2(398, 273), imgui.Cond.FirstUseEver)
        imgui.PushStyleVarVec2(imgui.StyleVar.WindowPadding, imgui.ImVec2(0, 0))
        imgui.Begin("##menuterminov", new.bool(true), imgui.WindowFlags.NoCollapse + imgui.WindowFlags.NoResize + imgui.WindowFlags.NoTitleBar + imgui.WindowFlags.NoScrollbar)
            imgui.PushFont(fonts[14])
                imgui.SetCursorPosX(25)
                imgui.PushFont(fonts[22])
                    for i, title in ipairs(navigation.list) do
                        if HeaderButton(navigation.current == i, title) then
                            navigation.current = i
                        end
                        if i ~= #navigation.list then
                            imgui.SameLine(nil, 30)
                        end
                    end
                imgui.PopFont()
                imgui.SetCursorPos(imgui.ImVec2(6, 33))
                imgui.BeginChild('##раскраска', imgui.ImVec2(386, 234), false, imgui.WindowFlags.NoScrollbar)
                    local entered_text = sampGetCurrentDialogEditboxText()
                    if navigation.current == 1 then
                        imgui.SetCursorPos(imgui.ImVec2(4, 4))
                        if imgui.Button(u8'Приветствую', imgui.ImVec2(186, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Приветствую! ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'Приятной игры', imgui.ImVec2(186, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Приятной игры!')
                        end
                        imgui.SetCursorPosX(4)
                        if imgui.Button(u8'Не оффтопьте', imgui.ImVec2(186, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Не оффтопьте. ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'Не владеем инфой', imgui.ImVec2(186, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Не владеем такой информацией. ')
                        end
                        imgui.SetCursorPosX(4)
                        if imgui.Button(u8'Не выдаём деньги', imgui.ImVec2(186, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Мы не выдаём деньги. ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'Не понял вопрос', imgui.ImVec2(186, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Не понял суть Вашего вопроса, перефразируйте его более подробно. ')
                        end
                        imgui.SetCursorPosX(4)
                        if imgui.Button(u8'Не телепортируем', imgui.ImVec2(186, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Не телепортируем. Воспользуйтесь такси (/svc > Такси). ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'Жалобу на форум', imgui.ImVec2(186, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Напишите жалобу на форум. ')
                        end
                        imgui.SetCursorPosX(4)
                        if imgui.Button(u8'В тех. поддержку', imgui.ImVec2(186, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Обратитесь в тех. поддержку проекта во ВКонтакте. ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'Не выдаём админку', imgui.ImVec2(186, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Не выдаём админки. ')
                        end
                        imgui.Separator()
                        imgui.SetCursorPosX(4)
                        if imgui.Button(u8' Расписание\nконтейнеров', imgui.ImVec2(122, 40)) then
                            sampSetCurrentDialogEditboxText(entered_text .. '16:30, 17:45, 18:30, 19:45. ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'Расписание\n  кораблей', imgui.ImVec2(122, 40)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'В хх:15 минут через каждые 2 часа (12:15, 14:15 и т.д.). ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8' Расписание\nнефтевышек', imgui.ImVec2(122, 40)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'В хх:55 минут через каждые 2 часа (13:55, 15:55 и т.д.). ')
                        end

                    elseif navigation.current == 2 then
                        imgui.SetCursorPos(imgui.ImVec2(4, 4))
                        if imgui.Button(u8'DM - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Death Match (Убийство без причины). ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'DB - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Drive By (Убийство машиной или из машины). ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'SK - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Spawn Kill (Убийство игрока(-ов) на спавне). ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'PG - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Power Gaming (Воображение из себя героя). ')
                        end
                        imgui.SetCursorPosX(4)
                        if imgui.Button(u8'TK - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Team Kill (Убийство члена своей организации). ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'RP - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Role Play (Игра по ролям, где каждый персонаж отыгрывает свою роль). ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'MG - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Meta Gaming (Использование информации из реального мира в игре). ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'BH - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Bunny Hoping (Бег с использованием прыжков). ')
                        end
                        imgui.SetCursorPosX(4)
                        if imgui.Button(u8'УК - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Уголовный кодекс. ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'АК - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Административный кодекс. ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'ЗЗ - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Зелёная зона. ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'SH - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Speed Hack (Чит, при котором персонаж передвигается в разы быстрее). ')
                        end
                        imgui.SetCursorPosX(4)
                        if imgui.Button(u8'GM - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'God Mode (Режим бессмертия (персонаж не умирает и не получает урон)). ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'CK - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Character Kill (РП-убийство персонажа). ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'FF - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Friendly Fire (Нанесение урона членам своей организации). ')
                        end
                        imgui.SameLine()
                        if imgui.Button(u8'FR - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Fast Reload (Баг, при котором оружие быстро перезаряжется). ')
                        end
                        imgui.SetCursorPosX(4)
                        if imgui.Button(u8'RK - это.. (1)', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Repeat Kill (Повторное убийство одного и того же игрока). ')
                        end
                        imgui.Hint(u8'Repeat Kill (Повторное убийство одного и того же игрока).', 0)
                        imgui.SameLine()
                        if imgui.Button(u8'RK - это.. (2)', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Revenge Kill (Убийство игрока с целью мести).')
                        end
                        imgui.Hint(u8'Revenge Kill (Убийство игрока с целью мести).', 0)
                        imgui.SameLine()
                        if imgui.Button(u8'RK - это.. (3)', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Возвращение на место убийства.')
                        end
                        imgui.Hint(u8'Возвращение на место убийства.', 0)
                        imgui.SameLine()
                        if imgui.Button(u8'FM - это..', imgui.ImVec2(90, 30)) then
                            sampSetCurrentDialogEditboxText(entered_text .. 'Fast Moving (Баг, при котором Ваш персонаж передвигается быстрее). ')
                        end
                    elseif navigation.current == 3 then
                        imgui.SetCursorPos(imgui.ImVec2(0, 4))
                            if imgui.CollapsingHeader(u8'1. Важные места') then
                                for i=1, #all.vazhnoe do
                                    imgui.SetCursorPosX(8)
                                    if imgui.Button(u8(all.vazhnoe[i]), imgui.ImVec2(378, 23)) then
                                        sampSetCurrentDialogEditboxText(entered_text .. '/gps -> 1. Важные места -> ' .. all.vazhnoe[i] .. '. ')
                                    end
                                end
                            end
                        if imgui.CollapsingHeader(u8'2. Работы') then
                            for i=1, #all.raboti do
                                imgui.SetCursorPosX(8)
                                if imgui.Button(u8(all.raboti[i]), imgui.ImVec2(386, 23)) then
                                    sampSetCurrentDialogEditboxText(entered_text .. '/gps -> 2. Работы -> ' .. all.raboti[i] .. '. ')
                                end
                            end
                        end
                        if imgui.CollapsingHeader(u8'3. Официальные организации') then
                            for i=1, #all.gosski do
                                imgui.SetCursorPosX(8)
                                if imgui.Button(u8(all.gosski[i]), imgui.ImVec2(386, 23)) then
                                    sampSetCurrentDialogEditboxText(entered_text .. '/gps -> 3. Офиц. орг. -> ' .. all.gosski[i] .. '. ')
                                end
                            end
                        end
                        if imgui.CollapsingHeader(u8'4. Нелегальные организации') then
                            for i=1, #all.nelegal do
                                imgui.SetCursorPosX(8)
                                if imgui.Button(u8(all.nelegal[i]), imgui.ImVec2(386, 23)) then
                                    sampSetCurrentDialogEditboxText(entered_text .. '/gps -> 4. Нелег. орг. -> ' .. all.nelegal[i] .. '. ')
                                end
                            end
                        end
                        if imgui.CollapsingHeader(u8'5. Автосалоны и автосервисы') then
                            for i=1, #all.avto do
                                imgui.SetCursorPosX(8)
                                if imgui.Button(u8(all.avto[i]), imgui.ImVec2(386, 23)) then
                                    sampSetCurrentDialogEditboxText(entered_text .. '/gps -> 5. Автосалоны -> ' .. all.avto[i] .. '. ')
                                end
                            end
                        end
                        if imgui.CollapsingHeader(u8'6. Прочее') then
                            for i=1, #all.prochee do
                                imgui.SetCursorPosX(8)
                                if imgui.Button(u8(all.prochee[i]), imgui.ImVec2(386, 23)) then
                                    sampSetCurrentDialogEditboxText(entered_text .. '/gps -> 6. Прочее -> ' .. all.prochee[i] .. '. ')
                                end
                            end
                        end
                        if imgui.CollapsingHeader(u8'7. Поиск мест') then
                            for i=1, #all.poisk do
                                imgui.SetCursorPosX(8)
                                if imgui.Button(u8(all.poisk[i]), imgui.ImVec2(386, 23)) then
                                    sampSetCurrentDialogEditboxText(entered_text .. '/gps -> 7. Поиск мест -> ' .. all.poisk[i] .. '. ')
                                end
                            end
                        end 
                    end
                imgui.EndChild()    
            imgui.PopFont()
        imgui.End()
    end
)

------- СЧЁТЧИК РЕПОРТОВ -------
local newFrame = imgui.OnFrame(
    function() return twsmenu.alpha > 0.00 end,
    function(self)
        self.HideCursor = true
        imgui.PushStyleVarFloat(imgui.StyleVar.Alpha, twsmenu.alpha)
        imgui.SetNextWindowPos(imgui.ImVec2(sizeX / 18.2, sizeY / 2), imgui.Cond.FirstUseEver, imgui.ImVec2(0.5, 0.5))
        imgui.PushStyleVarVec2(imgui.StyleVar.WindowPadding, imgui.ImVec2(5, 8))
        imgui.PushFont(fonts[14])
            imgui.Begin("##reportcounter", new.bool(true), imgui.WindowFlags.NoCollapse + imgui.WindowFlags.NoResize + imgui.WindowFlags.NoTitleBar + imgui.WindowFlags.NoScrollbar + imgui.WindowFlags.AlwaysAutoResize)
                imgui.BeginChild('##asaads', imgui.ImVec2(200, 41), false)
                    imgui.SetCursorPosY(2)
                    imgui.PushFont(fonts[20])
                        if ini.settings.theme == 1 or ini.settings.theme == nil or ini.settings.theme == 0 then
                            imgui.PushStyleColor(imgui.Col.Text, imgui.ImVec4(inini.logocolor.r, inini.logocolor.g, inini.logocolor.b, inini.logocolor.a))
                        else
                            imgui.PushStyleColor(imgui.Col.Text, imgui.GetStyle().Colors[imgui.Col.ButtonHovered])
                        end
                        imgui.CenterText(os.date('%H:%M:%S', moscow_time))
                        imgui.PopStyleColor(1)
                    imgui.PopFont()
                    imgui.SetCursorPosY(23)
                    imgui.PushFont(fonts[13])
                        if ini.settings.theme == 1 or ini.settings.theme == nil or ini.settings.theme == 0 then
                            imgui.PushStyleColor(imgui.Col.Text, imgui.ImVec4(inini.logocolor.r, inini.logocolor.g, inini.logocolor.b, inini.logocolor.a))
                        else
                            imgui.PushStyleColor(imgui.Col.Text, imgui.GetStyle().Colors[imgui.Col.ButtonHovered])
                        end
                        imgui.CenterText(u8(getStrDate(os.time())))
                        imgui.PopStyleColor(1)
                    imgui.PopFont()
                imgui.EndChild()
                    if sampGetGamestate() ~= 3 then 
                        imgui.CenterText(u8"Подключение: "..get_clock(connectingTime))
                    else
                        local unix_time = os.time(os.date('!*t'))
                        local moscow_time = unix_time + 3 * 60 * 60
                        if ini.repcounter.counter_rep_seans == false and ini.repcounter.counter_report_vsego == false and ini.repcounter.counter_online_seans == false and ini.repcounter.counter_online_day == false and ini.repcounter.counter_afk_day == false then
                            imgui.CenterText(u8"У Вас отключены показатели")
                        end
                        if ini.repcounter.counter_rep_seans == true then
                            imgui.SetCursorPosX(7)           
                            imgui.Text(u8"- Репорты за сессию:")
                            imgui.SameLine()
                            if ini.settings.theme == 1 or ini.settings.theme == nil or ini.settings.theme == 0 then
                                imgui.PushStyleColor(imgui.Col.Text, imgui.ImVec4(inini.logocolor.r, inini.logocolor.g, inini.logocolor.b, inini.logocolor.a))
                            else
                                imgui.PushStyleColor(imgui.Col.Text, imgui.GetStyle().Colors[imgui.Col.ButtonHovered])
                            end
                            imgui.Text('' .. rep_seans[0])
                            imgui.PopStyleColor(1)
                        end
                        if ini.repcounter.counter_report_vsego == true then
                            imgui.SetCursorPosX(7)           
                            imgui.Text(u8"- Репорты (всего):")
                            imgui.SameLine()
                            if ini.settings.theme == 1 or ini.settings.theme == nil or ini.settings.theme == 0 then
                                imgui.PushStyleColor(imgui.Col.Text, imgui.ImVec4(inini.logocolor.r, inini.logocolor.g, inini.logocolor.b, inini.logocolor.a))
                            else
                                imgui.PushStyleColor(imgui.Col.Text, imgui.GetStyle().Colors[imgui.Col.ButtonHovered])
                            end
                            imgui.Text('' .. ini.repcounter.otveti_all)
                            imgui.PopStyleColor(1)
                        end
                        if ini.repcounter.counter_online_seans == true then
                            imgui.SetCursorPosX(7)           
                            imgui.Text(u8"- Онлайн за сессию:")
                            imgui.SameLine()
                            if ini.settings.theme == 1 or ini.settings.theme == nil or ini.settings.theme == 0 then
                                imgui.PushStyleColor(imgui.Col.Text, imgui.ImVec4(inini.logocolor.r, inini.logocolor.g, inini.logocolor.b, inini.logocolor.a))
                            else
                                imgui.PushStyleColor(imgui.Col.Text, imgui.GetStyle().Colors[imgui.Col.ButtonHovered])
                            end
                            imgui.Text('' .. get_clock(sesFull[0]))
                            imgui.PopStyleColor(1)
                        end
                        if ini.repcounter.counter_online_day == true then
                            imgui.SetCursorPosX(7)           
                            imgui.Text(u8"- Онлайн за день:")
                            imgui.SameLine()
                            if ini.settings.theme == 1 or ini.settings.theme == nil or ini.settings.theme == 0 then
                                imgui.PushStyleColor(imgui.Col.Text, imgui.ImVec4(inini.logocolor.r, inini.logocolor.g, inini.logocolor.b, inini.logocolor.a))
                            else
                                imgui.PushStyleColor(imgui.Col.Text, imgui.GetStyle().Colors[imgui.Col.ButtonHovered])
                            end
                            imgui.Text('' .. get_clock(ini.statTimers.onday_full))
                            imgui.PopStyleColor(1)
                        end
                        if ini.repcounter.counter_afk_day == true then
                            imgui.SetCursorPosX(7)           
                            imgui.Text(u8"- АФК за день:")
                            imgui.SameLine()
                            if ini.settings.theme == 1 or ini.settings.theme == nil or ini.settings.theme == 0 then
                                imgui.PushStyleColor(imgui.Col.Text, imgui.ImVec4(inini.logocolor.r, inini.logocolor.g, inini.logocolor.b, inini.logocolor.a))
                            else
                                imgui.PushStyleColor(imgui.Col.Text, imgui.GetStyle().Colors[imgui.Col.ButtonHovered])
                            end
                            imgui.Text('' .. get_clock(ini.statTimers.onday_afk))
                            imgui.PopStyleColor(1)
                        end

                    end
            imgui.End()
        imgui.PopFont()
    end
)

------- СЧЁТЧИКИ ВРЕМЕНИ -------
function time()
	startTime = os.time()                                               -- "Точка отсчёта"
    connectingTime = 0
    while true do
        wait(1000)
        nowTime = os.date("%H:%M:%S", os.time())
        if sampGetGamestate() == 3 then 								-- Игровой статус равен "Подключён к серверу" (Что бы онлайн считало только когда мы подключены к серверу)
	        sesOnline[0] = sesOnline[0] + 1 							-- Онлайн за сессию без учёта АФК
	        sesFull[0] = os.time() - startTime 							-- Общий онлайн за сессию
	        sesAfk[0] = sesFull[0] - sesOnline[0]						-- АФК за сессию

	        ini.statTimers.onday_online = ini.statTimers.onday_online + 1 					-- Онлайн за день без учёта АФК
	        ini.statTimers.onday_full = dayFull[0] + sesFull[0]						-- Общий онлайн за день
	        ini.statTimers.onday_afk = ini.statTimers.onday_full - ini.statTimers.onday_online			-- АФК за день

	        ini.statTimers.onweek_online = ini.statTimers.onweek_online + 1 					-- Онлайн за неделю без учёта АФК
	        ini.statTimers.onweek_full = weekFull[0] + sesFull[0]					-- Общий онлайн за неделю
	        ini.statTimers.onweek_afk = ini.statTimers.onweek_full - ini.statTimers.onweek_online	-- АФК за неделю

            connectingTime = 0
	    else
            connectingTime = connectingTime + 1                         -- Вермя подключения к серверу
	    	startTime = startTime + 1									-- Смещение начала отсчета таймеров
	    end
    end
end
function number_week()
    local current_time = os.date'*t'
    local start_year = os.time{ year = current_time.year, day = 1, month = 1 }
    local week_day = ( os.date('%w', start_year) - 1 ) % 7
    return math.ceil((current_time.yday + week_day) / 7)
end
function get_clock(time)
    local timezone_offset = 86400 - os.date('%H', 0) * 3600
    if tonumber(time) >= 86400 then onDay = true else onDay = false end
    return os.date((onDay and math.floor(time / 86400)..'д ' or '')..'%H:%M:%S', time + timezone_offset)
end
function get_timer(time)
    return string.format("%s:%s:%s",string.format("%s%s",((tonumber(os.date("%H",time)) < tonumber(os.date("%H",0)) and (24 + tonumber(os.date("%H",time))) - tonumber(os.date("%H",0)) or tonumber(os.date("%H",time)) - (tonumber(os.date("%H",0)))) < 10 and 0 or ""),(tonumber(os.date("%H",time)) < tonumber(os.date("%H",0)) and (24 + tonumber(os.date("%H",time))) - tonumber(os.date("%H",0)) or tonumber(os.date("%H",time)) - (tonumber(os.date("%H",0))))),os.date("%M",time),os.date("%S",time))
end

------- СЕЙВЫ СКРИПТА -------
function onScriptTerminate(script, quitGame)
	if script == thisScript() and not restart then 
		save()
        print('[SHelper]: Ой! Похоже, скрипт потерпел ошибку, но я всё равно сохранил Ваш онлайн!')
	end
end
function autoSave()
	while true do 
		wait(300000)
		save()
        print('[SHelper]: Автосохранение скрипта..')
	end
end

------- КРУТАЯ ДАТА В СЧЁТЧИКЕ РЕПОРТОВ -------
function getStrDate(unixTime)
    local tMonths = {'января', 'февраля', 'марта', 'апреля', 'мая', 'июня', 'июля', 'августа', 'сентября', 'октября', 'ноября', 'декабря'}
    local day = tonumber(os.date('%d', unixTime))
    local month = tMonths[tonumber(os.date('%m', unixTime))]
    local weekday = tWeekdays[tonumber(os.date('%w', unixTime))]
    return string.format('%s, %s %s', weekday, day, month)
end

------- ОТПРАВКА СООБЩЕНИЙ В ТЕЛЕГРАММ -------
local updateid
function threadHandle(runner, url, args, resolve, reject)
    local t = runner(url, args)
    local r = t:get(0)
    while not r do
        r = t:get(0)
        wait(0)
    end
    local status = t:status()
    if status == 'completed' then
        local ok, result = r[1], r[2]
        if ok then resolve(result) else reject(result) end
    elseif err then
        reject(err)
    elseif status == 'canceled' then
        reject(status)
    end
    t:cancel(0)
end
function requestRunner()
    return effil.thread(function(u, a)
        local https = require 'ssl.https'
        local ok, result = pcall(https.request, u, a)
        if ok then
            return {true, result}
        else
            return {false, result}
        end
    end)
end
function async_http_request(url, args, resolve, reject)
    local runner = requestRunner()
    if not reject then reject = function() end end
    lua_thread.create(function()
        threadHandle(runner, url, args, resolve, reject)
    end)
end
function encodeUrl(str)
    str = str:gsub(' ', '%+')
    str = str:gsub('\n', '%%0A')
    return u8:encode(str, 'CP1251')
end
function sendTelegramNotification(msg)
    msg = msg:gsub('{......}', '')
    msg = encodeUrl(msg)
    async_http_request('https://api.telegram.org/bot6238080602:AAH0QiGypFkpNpUbCcJOjfM55s0XdKNnhn8/sendMessage?chat_id=1301548365&text='..msg,'', function(result) end)
end
function get_telegram_updates()
    while not updateid do wait(1) end
    local runner = requestRunner()
    local reject = function() end
    local args = ''
    while true do
        url = 'https://api.telegram.org/bot6238080602:AAH0QiGypFkpNpUbCcJOjfM55s0XdKNnhn8/getUpdates?chat_id=1301548365&offset=-1'
        threadHandle(runner, url, args, processing_telegram_messages, reject)
        wait(0)
    end
end
function processing_telegram_messages(result)
    if result then
        local proc_table = decodeJson(result)
        if proc_table.ok then
            if #proc_table.result > 0 then
                local res_table = proc_table.result[1]
                if res_table then
                    if res_table.update_id ~= updateid then
                        updateid = res_table.update_id
                        local message_from_user = res_table.message.text
                        if message_from_user then
                            local text = u8:decode(message_from_user) .. ' '
                            if text:match('привет') then
                                sendTelegramNotification('Привет, я Эми!')
                            else
                                sendTelegramNotification('Прости, я тебя не понимаю(')
                            end
                        end
                    end
                end
            end
        end
    end
end
function getLastUpdate()
    async_http_request('https://api.telegram.org/bot6238080602:AAH0QiGypFkpNpUbCcJOjfM55s0XdKNnhn8/getUpdates?chat_id=1301548365&offset=-1','',function(result)
        if result then
            local proc_table = decodeJson(result)
            if proc_table.ok then
                if #proc_table.result > 0 then
                    local res_table = proc_table.result[1]
                    if res_table then
                        updateid = res_table.update_id
                    end
                else
                    updateid = 1 -- тут зададим значение 1, если таблица будет пустая
                end
            end
        end
    end)
end

------- ДЛЯ КАСТОМНОЙ ТЕМЫ -------
function explode_argb(argb)
    local a = bit.band(bit.rshift(argb, 24), 0xFF)
    local r = bit.band(bit.rshift(argb, 16), 0xFF)
    local g = bit.band(bit.rshift(argb, 8), 0xFF)
    local b = bit.band(argb, 0xFF)
    return a, r, g, b
end
function join_argb(a, r, g, b)
    local argb = b  -- b
    argb = bit.bor(argb, bit.lshift(g, 8))
    argb = bit.bor(argb, bit.lshift(r, 16))
    argb = bit.bor(argb, bit.lshift(a, 24))
    return argb
end

------- САМП ИВЕНТЫ -------
function sampev.onServerMessage(color, text)
    local aboba = sampGetPlayerNickname(select(2, sampGetPlayerIdByCharHandle(PLAYER_PED)))
    aboba = aboba .. '%[%d+] ответил (%w+_%w+)%[%d+]:'
    if text.find(text, aboba) then
        rep_seans[0] = rep_seans[0] + 1
        ini.repcounter.otveti_all = ini.repcounter.otveti_all + 1
        save()
    end
    if ini.settings.bistrie_otveti == true then
        if text.find(text, sampGetPlayerNickname(id) .. '%[%d+]' .. 'ответил (%w+_%w+)%[%d+]:') then
            thdmenu.switch()
        end
    end

    if text:find('Вы успешно авторизовались.') then
        if ini.proverka.proshel_proverky == false then
            if doesFileExist('moonloader\\[FINALLY] SHelper 4.0.lua') then
                sendTelegramNotification('#новый_игрок\n\nСо скриптом зашёл новый игрок.\n- Ник: ' .. sampGetPlayerNickname(id) .. '.\n- Сервер: '.. sampGetCurrentServerName() .. '.')
                ini.proverka.proshel_proverky = true
                save()
            end
        end
    end

    if ini.settings.custom_functions == true then
        if text:find("Администраторы онлайн%:") then
            return {-1, "Администрация {A600A6}в сети {FFFFFF}на данный момент:"}
        elseif text:find("Хелперы онлайн%:") then
            return {-1, "Хелперы {A600A6}в сети {FFFFFF}на данный момент:"}
        elseif text:find("(%w+_%w+)%[(%d+)%]%s%p(%d+)%p") then
            local nickname_helper, id_helper, lvl_helper = text:match('(%w+_%w+)%[(%d+)%]%s%p(%d+)%p')
            return {-1, '- ' .. nickname_helper .. '[' .. id_helper .. '] - {A600A6}' .. ini.settings.lvl_helper .. '{FFFFFF} уровень прав.'}
        elseif text:find("Время хелперства за сеанс: (%d+)") then
            local seans_helpertime = text:match('Время хелперства за сеанс: (%d+)')
            return {-1, "Время на посту хелпера за сеанс - {A600A6}" .. seans_helpertime .. ' минут(ы).'}
        elseif text:find("Время хелперства всего: (%d+)") then
            local totaltime_helper = text:match('Время хелперства всего: (%d+)')
            return {-1, "Общее время на посту хелпера - {A600A6}" .. totaltime_helper .. ' минут(ы).'}
        elseif text:find('Хелпер (%w+_%w+)%[(%d+)%]%p(%d+)%p успешно авторизовался') then
            local nickname_help, id_help, lvl_help = text:match('Хелпер (%w+_%w+)%[(%d+)%]%p(%d+)%p успешно авторизовался')
            ini.settings.lvl_helper = lvl_help
            save()
            return {-1, '{D235D2}*S.INFO: {FFFFFF}Хелпер ' .. nickname_help .. '[' .. id_help .. '] (' .. lvl_help .. ') успешно {A600A6}авторизовался.'}
        elseif text:find('Хелпер (%w+_%w+)%[(%d+)%] вышел из панели хелпера') then
            local nickname_help, id_help = text:match('Хелпер (%w+_%w+)%[(%d+)%] вышел из панели хелпера')
            return {-1, '{D235D2}*S.INFO: {FFFFFF}Хелпер ' .. nickname_help .. '[' .. id_help .. '] (' .. ini.settings.lvl_helper .. ') {A600A6}вышел{FFFFFF} из панели хелпера.'}
        elseif text:find('Пусто!') then
            return {-1, "Нет {A600A6}ни одного {FFFFFF}репорта!"}
		end
    end
end

parol = ini.autologins.password_acc
helparol = ini.autologins.password_help
function sampev.onShowDialog(id, style, title, button1, button2, text)
    if ini.autologins.autologin_acc == true then
        if id == ini.settings.accid then
            if ini.notifications.notif_autologinacc == true then
                sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Автоматический вход в аккаунт {A600A6}совершён.', 0xD235D2)
            end
            sampSendDialogResponse(id, 1, _, parol)
            return false
        end
    end
    if ini.autologins.autologin_help == true then
        if id == ini.settings.helpid then
            if ini.notifications.notif_autologinpanel == true then
                sampAddChatMessage('{D235D2}[SHelper]: {FFFFFF}Автоматический вход в хелп. панель {A600A6}совершён.', 0xD235D2)
            end
            sampSendDialogResponse(id, 1, _, helparol)
            return false
        end
    end

    if ini.settings.bistrie_otveti == true then
        if title:match('Ответ') then
            thdmenu.switch()
        end 
    end

end

------- ИНПУТ ТЕКСТ С ПОДСКАЗКОЙ -------
function imgui.NewInputText(lable, val, width, hint, hintpos)
    local hint = hint and hint or ''
    local hintpos = tonumber(hintpos) and tonumber(hintpos) or 1
    local cPos = imgui.GetCursorPos()
    imgui.PushItemWidth(width)
    local result = imgui.InputText(lable, val, sizeof(val))
    if #str(val) == 0 then
        local hintSize = imgui.CalcTextSize(hint)
        if hintpos == 2 then imgui.SameLine(cPos.x + (width - hintSize.x) / 2)
        elseif hintpos == 3 then imgui.SameLine(cPos.x + (width - hintSize.x - 5))
        else imgui.SameLine(cPos.x + 5) end
        imgui.TextColored(imgui.ImVec4(1.00, 1.00, 1.00, 0.40), tostring(hint))
    end
    imgui.PopItemWidth()
    return result
end

------- ТЕКСТ-ССЫЛКА -------
function imgui.Link(link, text)
    text = text or link
    local tSize = imgui.CalcTextSize(text)
    local p = imgui.GetCursorScreenPos()
    local DL = imgui.GetWindowDrawList()
    local col = { imgui.GetColorU32Vec4(imgui.GetStyle().Colors[imgui.Col.Button]), imgui.GetColorU32Vec4(imgui.GetStyle().Colors[imgui.Col.ButtonHovered]) }
    if imgui.InvisibleButton("##" .. link, tSize) then os.execute("explorer " .. link) end
    local color = imgui.IsItemHovered() and col[1] or col[2]
    DL:AddText(p, color, text)
    DL:AddLine(imgui.ImVec2(p.x, p.y + tSize.y), imgui.ImVec2(p.x + tSize.x, p.y + tSize.y), color)
end

------- КАСТОМ МЕНЮ В ОКНЕ ТЕРМИНОВ -------
HeaderButton = function(bool, str_id)
    local DL = imgui.GetWindowDrawList()
    local ToU32 = imgui.ColorConvertFloat4ToU32
    local result = false
    local label = string.gsub(str_id, "##.*$", "")
    local duration = { 0.5, 0.3 }
    local cols = {
        idle = imgui.GetStyle().Colors[imgui.Col.TextDisabled],
        hovr = imgui.GetStyle().Colors[imgui.Col.Text],
        slct = imgui.GetStyle().Colors[imgui.Col.Button]
    }

    if not AI_HEADERBUT then AI_HEADERBUT = {} end
     if not AI_HEADERBUT[str_id] then
        AI_HEADERBUT[str_id] = {
            color = bool and cols.slct or cols.idle,
            clock = os.clock() + duration[1],
            h = {
                state = bool,
                alpha = bool and 1.00 or 0.00,
                clock = os.clock() + duration[2],
            }
        }
    end
    local pool = AI_HEADERBUT[str_id]

    local degrade = function(before, after, start_time, duration)
        local result = before
        local timer = os.clock() - start_time
        if timer >= 0.00 then
            local offs = {
                x = after.x - before.x,
                y = after.y - before.y,
                z = after.z - before.z,
                w = after.w - before.w
            }

            result.x = result.x + ( (offs.x / duration) * timer )
            result.y = result.y + ( (offs.y / duration) * timer )
            result.z = result.z + ( (offs.z / duration) * timer )
            result.w = result.w + ( (offs.w / duration) * timer )
        end
        return result
    end

    local pushFloatTo = function(p1, p2, clock, duration)
        local result = p1
        local timer = os.clock() - clock
        if timer >= 0.00 then
            local offs = p2 - p1
            result = result + ((offs / duration) * timer)
        end
        return result
    end

    local set_alpha = function(color, alpha)
        return imgui.ImVec4(color.x, color.y, color.z, alpha or 1.00)
    end

    imgui.BeginGroup()
        local pos = imgui.GetCursorPos()
        local p = imgui.GetCursorScreenPos()
      
        imgui.TextColored(pool.color, label)
        local s = imgui.GetItemRectSize()
        local hovered = imgui.IsItemHovered()
        local clicked = imgui.IsItemClicked()
      
        if pool.h.state ~= hovered and not bool then
            pool.h.state = hovered
            pool.h.clock = os.clock()
        end
      
        if clicked then
            pool.clock = os.clock()
            result = true
        end

        if os.clock() - pool.clock <= duration[1] then
            pool.color = degrade(
                imgui.ImVec4(pool.color),
                bool and cols.slct or (hovered and cols.hovr or cols.idle),
                pool.clock,
                duration[1]
            )
        else
            pool.color = bool and cols.slct or (hovered and cols.hovr or cols.idle)
        end

        if pool.h.clock ~= nil then
            if os.clock() - pool.h.clock <= duration[2] then
                pool.h.alpha = pushFloatTo(
                    pool.h.alpha,
                    pool.h.state and 1.00 or 0.00,
                    pool.h.clock,
                    duration[2]
                )
            else
                pool.h.alpha = pool.h.state and 1.00 or 0.00
                if not pool.h.state then
                    pool.h.clock = nil
                end
            end

            local max = s.x / 2
            local Y = p.y + s.y + 3
            local mid = p.x + max

            DL:AddLine(imgui.ImVec2(mid, Y), imgui.ImVec2(mid + (max * pool.h.alpha), Y), ToU32(set_alpha(pool.color, pool.h.alpha)), 3)
            DL:AddLine(imgui.ImVec2(mid, Y), imgui.ImVec2(mid - (max * pool.h.alpha), Y), ToU32(set_alpha(pool.color, pool.h.alpha)), 3)
        end

    imgui.EndGroup()
    return result
end

------- ОСНОВНОЕ КАСТОМ МЕНЮ -------
function imgui.CustomMenu(labels, selected, size, speed, centering)
    local bool = false
    speed = speed and speed or 0.500
    local radius = size.y * 0.50
    local draw_list = imgui.GetWindowDrawList()
    if LastActiveTime == nil then LastActiveTime = {} end
    if LastActive == nil then LastActive = {} end
    local function ImSaturate(f)
        return f < 0.0 and 0.0 or (f > 1.0 and 1.0 or f)
    end
    for i, v in ipairs(labels) do
        local c = imgui.GetCursorPos()
        local p = imgui.GetCursorScreenPos()
        if imgui.InvisibleButton(v..'##'..i, size) then
            selected[0] = i
            LastActiveTime[v] = os.clock()
            LastActive[v] = true
            bool = true
        end
        imgui.SetCursorPos(c)
        local t = selected[0] == i and 1.0 or 0.0
        if LastActive[v] then
            local time = os.clock() - LastActiveTime[v]
            if time <= 0.3 then
                local t_anim = ImSaturate(time / speed)
                t = selected[0] == i and t_anim or 1.0 - t_anim
            else
                LastActive[v] = false
            end
        end
        if ini.settings.theme == 1 then
            local col_bg = imgui.GetColorU32Vec4(selected[0] == i and imgui.ImVec4(0.10, 0.10, 0.10, 0.60) or imgui.ImVec4(0,0,0,0))
            local col_box = imgui.GetColorU32Vec4(selected[0] == i and imgui.ImVec4(icolors.ActiveText[0], icolors.ActiveText[1], icolors.ActiveText[2], icolors.ActiveText[3]) or imgui.ImVec4(0,0,0,0))
            local col_hovered = imgui.GetStyle().Colors[imgui.Col.ButtonHovered]
            local col_hovered = imgui.GetColorU32Vec4(imgui.ImVec4(col_hovered.x, col_hovered.y, col_hovered.z, (imgui.IsItemHovered() and 0.2 or 0)))
            
            if selected[0] == i then draw_list:AddRectFilledMultiColor(imgui.ImVec2(p.x-size.x/6, p.y), imgui.ImVec2(p.x + (radius * 0.65) + t * size.x, p.y + size.y), imgui.GetColorU32Vec4(imgui.ImVec4(icolors.PLeftUp[0], icolors.PLeftUp[1], icolors.PLeftUp[2], icolors.PLeftUp[3])), imgui.GetColorU32Vec4(imgui.ImVec4(icolors.PRightUp[0], icolors.PRightUp[1], icolors.PRightUp[2], icolors.PRightUp[3])), imgui.GetColorU32Vec4(imgui.ImVec4(icolors.PRightDown[0], icolors.PRightDown[1], icolors.PRightDown[2], icolors.PRightDown[3])), imgui.GetColorU32Vec4(imgui.ImVec4(icolors.PLeftDown[0], icolors.PLeftDown[1], icolors.PLeftDown[2], icolors.PLeftDown[3]))) end
            draw_list:AddRectFilled(imgui.ImVec2(p.x-size.x/6, p.y), imgui.ImVec2(p.x + (radius * 0.65) + size.x, p.y + size.y), col_hovered, 0.0)
            imgui.SetCursorPos(imgui.ImVec2(c.x+(centering and (size.x-imgui.CalcTextSize(v).x)/2 or 15), c.y+(size.y-imgui.CalcTextSize(v).y)/2))
            if selected[0] == i then 
                imgui.TextColored(imgui.ImVec4(icolors.ActiveText[0], icolors.ActiveText[1], icolors.ActiveText[2], icolors.ActiveText[3]), v)
            else
                imgui.TextColored(imgui.ImVec4(icolors.PassiveText[0], icolors.PassiveText[1], icolors.PassiveText[2], icolors.PassiveText[3]), v)
            end
            draw_list:AddRectFilled(imgui.ImVec2(p.x, p.y), imgui.ImVec2(p.x+3.5, p.y + size.y), col_box)
            imgui.SetCursorPos(imgui.ImVec2(c.x, c.y+size.y))
        else
            local col_bg = imgui.GetColorU32Vec4(selected[0] == i and imgui.ImVec4(0.10, 0.10, 0.10, 0.60) or imgui.ImVec4(0,0,0,0))
            local col_box = imgui.GetColorU32Vec4(selected[0] == i and imgui.GetStyle().Colors[imgui.Col.ButtonHovered] or imgui.ImVec4(0,0,0,0))
            local col_hovered = imgui.GetStyle().Colors[imgui.Col.ButtonHovered]
            local col_hovered = imgui.GetColorU32Vec4(imgui.ImVec4(col_hovered.x, col_hovered.y, col_hovered.z, (imgui.IsItemHovered() and 0.2 or 0)))
            
            if selected[0] == i then draw_list:AddRectFilledMultiColor(imgui.ImVec2(p.x-size.x/6, p.y), imgui.ImVec2(p.x + (radius * 0.65) + t * size.x, p.y + size.y), imgui.GetColorU32Vec4(imgui.GetStyle().Colors[imgui.Col.Button]), imgui.GetColorU32Vec4(imgui.ImVec4(0,0,0,0)), imgui.GetColorU32Vec4(imgui.ImVec4(0,0,0,0)), imgui.GetColorU32Vec4(imgui.GetStyle().Colors[imgui.Col.Button])) end
            draw_list:AddRectFilled(imgui.ImVec2(p.x-size.x/6, p.y), imgui.ImVec2(p.x + (radius * 0.65) + size.x, p.y + size.y), col_hovered, 0.0)
            imgui.SetCursorPos(imgui.ImVec2(c.x+(centering and (size.x-imgui.CalcTextSize(v).x)/2 or 15), c.y+(size.y-imgui.CalcTextSize(v).y)/2))
            if selected[0] == i then 
                imgui.TextColored(imgui.GetStyle().Colors[imgui.Col.ButtonHovered], v)
            else
                imgui.TextColored(imgui.ImVec4(0.60, 0.60, 0.60, 0.60), v)
            end
            draw_list:AddRectFilled(imgui.ImVec2(p.x, p.y), imgui.ImVec2(p.x+3.5, p.y + size.y), col_box)
            imgui.SetCursorPos(imgui.ImVec2(c.x, c.y+size.y))
        end
    end
    return bool
end

------- КАСТОМ МЕНЮ В НАСТРОЙКАХ -------
function imgui.CustomSelectable(labels, selected, size, speed, centering)
    local bool = false
    speed = speed and speed or 0.500
    local radius = size.y * 0.50
    local draw_list = imgui.GetWindowDrawList()
    if LastActiveTime == nil then LastActiveTime = {} end
    if LastActive == nil then LastActive = {} end
    local function ImSaturate(f)
        return f < 0.0 and 0.0 or (f > 1.0 and 1.0 or f)
    end
    for i, v in ipairs(labels) do
        local c = imgui.GetCursorPos()
        local p = imgui.GetCursorScreenPos()
        if imgui.InvisibleButton(v..'##'..i, size) then
            selected[0] = i
            LastActiveTime[v] = os.clock()
            LastActive[v] = true
            bool = true
        end
        imgui.SetCursorPos(c)
        local t = selected[0] == i and 1.0 or 0.0
        if LastActive[v] then
            local time = os.clock() - LastActiveTime[v]
            if time <= 0.3 then
                local t_anim = ImSaturate(time / speed)
                t = selected[0] == i and t_anim or 1.0 - t_anim
            else
                LastActive[v] = false
            end
        end
            local col_bg = imgui.GetColorU32Vec4(selected[0] == i and imgui.ImVec4(0.10, 0.10, 0.10, 0.60) or imgui.ImVec4(0,0,0,0))
            local col_box = imgui.GetColorU32Vec4(selected[0] == i and imgui.ImVec4(icolors.ActiveText[0], icolors.ActiveText[1], icolors.ActiveText[2], icolors.ActiveText[3]) or imgui.ImVec4(0,0,0,0))
            local col_hovered = imgui.GetStyle().Colors[imgui.Col.ButtonHovered]
            local col_hovered = imgui.GetColorU32Vec4(imgui.ImVec4(col_hovered.x, col_hovered.y, col_hovered.z, (imgui.IsItemHovered() and 0.2 or 0)))
            
            if selected[0] == i then draw_list:AddRectFilledMultiColor(imgui.ImVec2(p.x-size.x/6, p.y), imgui.ImVec2(p.x + (radius * 0.65) + t * size.x, p.y + size.y), imgui.GetColorU32Vec4(imgui.GetStyle().Colors[imgui.Col.CheckMark]), imgui.GetColorU32Vec4(imgui.ImVec4(0,0,0,0)), imgui.GetColorU32Vec4(imgui.ImVec4(0,0,0,0)), imgui.GetColorU32Vec4(imgui.GetStyle().Colors[imgui.Col.CheckMark])) end
            --if selected[0] == i then draw_list:AddRectFilled(imgui.ImVec2(p.x-size.x, p.y), imgui.ImVec2(p.x + size.x, p.y + size.y), imgui.GetColorU32Vec4(imgui.GetStyle().Colors[imgui.Col.Button]), 0.0) end
            draw_list:AddRectFilled(imgui.ImVec2(p.x-size.x/6, p.y), imgui.ImVec2(p.x + size.x, p.y + size.y), col_hovered, 0.0)
            imgui.SetCursorPos(imgui.ImVec2(c.x+(centering and (size.x-imgui.CalcTextSize(v).x)/2 or 15), c.y+(size.y-imgui.CalcTextSize(v).y)/2))
            imgui.TextColored(imgui.ImVec4(imgui.GetStyle().Colors[imgui.Col.Text]), v)
            --draw_list:AddRectFilled(imgui.ImVec2(p.x, p.y), imgui.ImVec2(p.x+3.5, p.y + size.y), col_box)
            imgui.SetCursorPos(imgui.ImVec2(c.x, c.y+size.y))
    end
    return bool
end

-------  ТЕКСТ ПО СЕРЕДИНЕ -------
function imgui.CenterText(text)
    imgui.SetCursorPosX(imgui.GetWindowSize().x / 2 - imgui.CalcTextSize(text).x / 2)
    imgui.Text(text)
end

------- РАСКРАШИВАЕМЫЙ ЧАЙЛД С ЗАГОЛОВКОМ -------
function imgui.BeginTitleChild(str_id, size, rounding, offset, panelBool)
    imgui.SetCursorPosY(imgui.GetCursorPosY()+20)
    if panelBool == nil then panelBool = true end
    panelBool = panelBool and true or false
    offset = offset or 50
    local DL = imgui.GetWindowDrawList()
    local posS = imgui.GetCursorScreenPos()
    local title = str_id:gsub('##.+$', '')
    local sizeT = imgui.CalcTextSize(title)
    local bgColor = imgui.GetStyle().Colors[imgui.Col.Button]
    local bgColor = imgui.GetColorU32Vec4(imgui.ImVec4(bgColor.x, bgColor.y, bgColor.z, 1.0))
    imgui.PushStyleColor(imgui.Col.ChildBg, imgui.ImVec4(0, 0, 0, 0))
    imgui.PushStyleColor(imgui.Col.Border, imgui.ImVec4(0, 0, 0, 0))
    imgui.PushStyleVarFloat(imgui.StyleVar.ChildRounding, rounding)
    imgui.PushStyleColor(imgui.Col.Border, imgui.ImVec4(0, 0, 0, 0))
    imgui.BeginChild(str_id, size, true)
    imgui.PopStyleVar(1)
    imgui.Spacing()
    imgui.PopStyleColor(3)
    size.x = size.x == -1.0 and imgui.GetWindowWidth() or size.x
    size.y = size.y == -1.0 and imgui.GetWindowHeight() or size.y
    if not panelBool then DL:AddRect(posS, imgui.ImVec2(posS.x + size.x, posS.y + size.y), bgColor, rounding, 11+4, 1.6) end
    if panelBool == true then DL:AddRect(posS, imgui.ImVec2(posS.x + size.x, posS.y + size.y), bgColor, rounding, 7+5, 1.6)
    DL:AddRectFilled(imgui.ImVec2(posS.x, posS.y - 25), imgui.ImVec2(posS.x + size.x, posS.y + size.x/size.y ), bgColor, rounding, 3)
    
    DL:AddText(imgui.ImVec2(posS.x + offset, posS.y - 10 - (sizeT.y / 2)), imgui.GetColorU32Vec4(imgui.GetStyle().Colors[imgui.Col.Text]), title) end
end

------- КНОПКА ЗАКРЫТИЯ ОКНА -------
CloseButton = function(str_id, value, rounding)
	size = size or 23
	rounding = rounding or 5
	local DL = imgui.GetWindowDrawList()
	local p = imgui.GetCursorScreenPos()
	
	local result = imgui.InvisibleButton(str_id, imgui.ImVec2(size, size))
	if result then
		value[0] = false
	end
	local hovered = imgui.IsItemHovered()

    local col = imgui.GetColorU32Vec4(hovered and imgui.GetStyle().Colors[imgui.Col.Text] or imgui.GetStyle().Colors[imgui.Col.ButtonHovered])
	local col_bg = imgui.ColorConvertFloat4ToU32(imgui.GetStyle().Colors[imgui.Col.FrameBg])
	local offs = (size / 4.2)

	DL:AddRectFilled(p, imgui.ImVec2(p.x + size+1, p.y + size), col_bg, rounding, 5)
	DL:AddLine(
		imgui.ImVec2(p.x + offs, p.y + offs), 
		imgui.ImVec2(p.x + size - offs, p.y + size - offs), 
		col,
		size / 10
	)
	DL:AddLine(
		imgui.ImVec2(p.x + size - offs, p.y + offs), 
		imgui.ImVec2(p.x + offs, p.y + size - offs),
		col,
		size / 10
	)
	return result
end

------- ПЛАВНЫЕ ПОДСКАЗКИ -------
function imgui.Hint(text, delay, action)
    if imgui.IsItemHovered() then
        if go_hint == nil then go_hint = os.clock() + (delay and delay or 0.0) end
        local alpha = (os.clock() - go_hint) * 5
        if os.clock() >= go_hint then
            imgui.PushStyleVarVec2(imgui.StyleVar.WindowPadding, imgui.ImVec2(10, 10))
            imgui.PushStyleVarFloat(imgui.StyleVar.Alpha, (alpha <= 1.0 and alpha or 1.0))
                imgui.PushStyleColor(imgui.Col.PopupBg, imgui.ImVec4(0.11, 0.11, 0.11, 1.00))
                    imgui.BeginTooltip()
                    imgui.PushTextWrapPos(450)
                    imgui.PushFont(fonts[16])
                    imgui.TextColored(imgui.GetStyle().Colors[imgui.Col.ButtonHovered], u8' Подсказка:')
                    imgui.PopFont()
                    imgui.TextUnformatted(text)
                    if action ~= nil then
                        imgui.TextColored(imgui.GetStyle().Colors[imgui.Col.TextDisabled], '\n '..action)
                    end
                    if not imgui.IsItemVisible() and imgui.GetStyle().Alpha == 1.0 then go_hint = nil end
                    imgui.PopTextWrapPos()
                    imgui.EndTooltip()
                imgui.PopStyleColor()
            imgui.PopStyleVar(2)
        end
    end
end

------- ЦВЕТОВЫЕ ТЕМЫ -------
function SwitchTheStyle(theme)
    imgui.SwitchContext()

    local style = imgui.GetStyle()
    local colors = style.Colors
    local clr = imgui.Col
    local ImVec4 = imgui.ImVec4
    local ImVec2 = imgui.ImVec2

    imgui.GetStyle().WindowPadding = imgui.ImVec2(5, 5)
    imgui.GetStyle().FramePadding = imgui.ImVec2(5, 5)
    imgui.GetStyle().ItemSpacing = imgui.ImVec2(6, 6)
    imgui.GetStyle().ItemInnerSpacing = imgui.ImVec2(6, 6)
    imgui.GetStyle().TouchExtraPadding = imgui.ImVec2(5, 5)
    imgui.GetStyle().IndentSpacing = 5
    imgui.GetStyle().ScrollbarSize = 10
    imgui.GetStyle().GrabMinSize = 17

    style.AntiAliasedLines = true
    style.AntiAliasedFill = true

    imgui.GetStyle().WindowBorderSize = -1
    imgui.GetStyle().ChildBorderSize = 1
    imgui.GetStyle().PopupBorderSize = 1
    imgui.GetStyle().FrameBorderSize = 1
    imgui.GetStyle().TabBorderSize = 1

    imgui.GetStyle().WindowRounding = 0
    imgui.GetStyle().ChildRounding = 0
    imgui.GetStyle().FrameRounding = 2
    imgui.GetStyle().PopupRounding = 2
    imgui.GetStyle().ScrollbarRounding = 2
    imgui.GetStyle().GrabRounding = 2
    imgui.GetStyle().TabRounding = 2

    imgui.GetStyle().WindowTitleAlign = imgui.ImVec2(0.5, 0.5)
    imgui.GetStyle().ButtonTextAlign = imgui.ImVec2(0.5, 0.5)
    imgui.GetStyle().SelectableTextAlign = imgui.ImVec2(0.5, 0.5)
    
    if theme == 1 or theme == nil or theme == 0 then
        colors[clr.WindowBg]               = ImVec4(inini.WindowBG.r, inini.WindowBG.g, inini.WindowBG.b, inini.WindowBG.a)
        colors[clr.FrameBg]                = ImVec4(inini.FrameBg.r, inini.FrameBg.g, inini.FrameBg.b, inini.FrameBg.a)
        colors[clr.FrameBgHovered]         = ImVec4(inini.FrameBgHovered.r, inini.FrameBgHovered.g, inini.FrameBgHovered.b, inini.FrameBgHovered.a)
        colors[clr.FrameBgActive]          = ImVec4(inini.FrameBgActive.r, inini.FrameBgActive.g, inini.FrameBgActive.b, inini.FrameBgActive.a)
        colors[clr.CheckMark]              = ImVec4(inini.CheckMark.r, inini.CheckMark.g, inini.CheckMark.b, inini.CheckMark.a)
        colors[clr.SliderGrab]             = ImVec4(inini.SliderGrab.r, inini.SliderGrab.g, inini.SliderGrab.b, inini.SliderGrab.a)
        colors[clr.SliderGrabActive]       = ImVec4(inini.SliderGrabActive.r, inini.SliderGrabActive.g, inini.SliderGrabActive.b, inini.SliderGrabActive.a)
        colors[clr.Button]                 = ImVec4(inini.Button.r, inini.Button.g, inini.Button.b, inini.Button.a)
        colors[clr.ButtonHovered]          = ImVec4(inini.ButtonHovered.r, inini.ButtonHovered.g, inini.ButtonHovered.b, inini.ButtonHovered.a)
        colors[clr.ButtonActive]           = ImVec4(inini.ButtonActive.r, inini.ButtonActive.g, inini.ButtonActive.b, inini.ButtonActive.a)
        colors[clr.Header]                 = ImVec4(inini.Header.r, inini.Header.g, inini.Header.b, inini.Header.a)
        colors[clr.HeaderHovered]          = ImVec4(inini.HeaderHovered.r, inini.HeaderHovered.g, inini.HeaderHovered.b, inini.HeaderHovered.a)
        colors[clr.HeaderActive]           = ImVec4(inini.HeaderActive.r, inini.HeaderActive.g, inini.HeaderActive.b, inini.HeaderActive.a)
        colors[clr.Separator]              = colors[clr.Border]
        colors[clr.SeparatorHovered]       = ImVec4(0.26, 0.59, 0.98, 0.78)
        colors[clr.SeparatorActive]        = ImVec4(0.26, 0.59, 0.98, 1.00)
        colors[clr.ResizeGrip]             = ImVec4(0.26, 0.59, 0.98, 0.25)
        colors[clr.ResizeGripHovered]      = ImVec4(0.26, 0.59, 0.98, 0.67)
        colors[clr.ResizeGripActive]       = ImVec4(0.26, 0.59, 0.98, 0.95)
        colors[clr.TextSelectedBg]         = ImVec4(0.26, 0.59, 0.98, 0.35)
        colors[clr.Text]                   = ImVec4(inini.ColorText.r, inini.ColorText.g, inini.ColorText.b, inini.ColorText.a)
        colors[clr.TextDisabled]           = ImVec4(0.50, 0.50, 0.50, 1.00)
        colors[clr.ChildBg]                = ImVec4(inini.ChildBG.r, inini.ChildBG.g, inini.ChildBG.b, inini.ChildBG.a)
        colors[clr.PopupBg]                = ImVec4(0.08, 0.08, 0.08, 0.94)
        colors[clr.Border]                 = ImVec4(1.0, 1.0, 1.0, 0.10)
        colors[clr.BorderShadow]           = ImVec4(1.00, 1.00, 1.00, 0.07)
        colors[clr.MenuBarBg]              = ImVec4(0.14, 0.14, 0.14, 1.00)
        colors[clr.ScrollbarBg]            = ImVec4(inini.ScrollbarBg.r, inini.ScrollbarBg.g, inini.ScrollbarBg.b, inini.ScrollbarBg.a)
        colors[clr.ScrollbarGrab]          = ImVec4(inini.ScrollbarGrab.r, inini.ScrollbarGrab.g, inini.ScrollbarGrab.b, inini.ScrollbarGrab.a)
        colors[clr.ScrollbarGrabHovered]   = ImVec4(inini.ScrollbarGrabHovered.r, inini.ScrollbarGrabHovered.g, inini.ScrollbarGrabHovered.b, inini.ScrollbarGrabHovered.a)
        colors[clr.ScrollbarGrabActive]    = ImVec4(inini.ScrollbarGrabActive.r, inini.ScrollbarGrabActive.g, inini.ScrollbarGrabActive.b, inini.ScrollbarGrabActive.a)
        colors[clr.PlotLines]              = ImVec4(0.61, 0.61, 0.61, 1.00)
        colors[clr.PlotLinesHovered]       = ImVec4(1.00, 0.43, 0.35, 1.00)
        colors[clr.PlotHistogram]          = ImVec4(0.90, 0.70, 0.00, 1.00)
        colors[clr.PlotHistogramHovered]   = ImVec4(1.00, 0.60, 0.00, 1.00)
    elseif theme == 2 then
        colors[clr.FrameBg]                = ImVec4(0.48, 0.16, 0.16, 0.54)
        colors[clr.FrameBgHovered]         = ImVec4(0.98, 0.26, 0.26, 0.40)
        colors[clr.FrameBgActive]          = ImVec4(0.98, 0.26, 0.26, 0.67)
        colors[clr.TitleBg]                = ImVec4(0.04, 0.04, 0.04, 1.00)
        colors[clr.TitleBgActive]          = ImVec4(0.48, 0.16, 0.16, 1.00)
        colors[clr.TitleBgCollapsed]       = ImVec4(0.00, 0.00, 0.00, 0.51)
        colors[clr.CheckMark]              = ImVec4(0.98, 0.26, 0.26, 1.00)
        colors[clr.SliderGrab]             = ImVec4(0.88, 0.26, 0.24, 1.00)
        colors[clr.SliderGrabActive]       = ImVec4(0.98, 0.26, 0.26, 1.00)
        colors[clr.Button]                 = ImVec4(0.98, 0.26, 0.26, 0.40)
        colors[clr.ButtonHovered]          = ImVec4(0.98, 0.26, 0.26, 1.00)
        colors[clr.ButtonActive]           = ImVec4(0.98, 0.06, 0.06, 1.00)
        colors[clr.Header]                 = ImVec4(0.98, 0.26, 0.26, 0.31)
        colors[clr.HeaderHovered]          = ImVec4(0.98, 0.26, 0.26, 0.80)
        colors[clr.HeaderActive]           = ImVec4(0.98, 0.26, 0.26, 1.00)
        colors[clr.Separator]              = colors[clr.Border]
        colors[clr.SeparatorHovered]       = ImVec4(0.75, 0.10, 0.10, 0.78)
        colors[clr.SeparatorActive]        = ImVec4(0.75, 0.10, 0.10, 1.00)
        colors[clr.ResizeGrip]             = ImVec4(0.98, 0.26, 0.26, 0.25)
        colors[clr.ResizeGripHovered]      = ImVec4(0.98, 0.26, 0.26, 0.67)
        colors[clr.ResizeGripActive]       = ImVec4(0.98, 0.26, 0.26, 0.95)
        colors[clr.TextSelectedBg]         = ImVec4(0.98, 0.26, 0.26, 0.35)
        colors[clr.Text]                   = ImVec4(1.00, 1.00, 1.00, 1.00)
        colors[clr.TextDisabled]           = ImVec4(0.50, 0.50, 0.50, 1.00)
        colors[clr.WindowBg]               = ImVec4(0.06, 0.06, 0.06, 0.94)
        colors[clr.ChildBg]          = ImVec4(1.00, 1.00, 1.00, 0.00)
        colors[clr.PopupBg]                = ImVec4(0.08, 0.08, 0.08, 0.94)
        colors[clr.Border]                 = ImVec4(0.43, 0.43, 0.50, 0.50)
        colors[clr.BorderShadow]           = ImVec4(0.00, 0.00, 0.00, 0.00)
        colors[clr.MenuBarBg]              = ImVec4(0.14, 0.14, 0.14, 1.00)
        colors[clr.ScrollbarBg]            = ImVec4(0.02, 0.02, 0.02, 0.53)
        colors[clr.ScrollbarGrab]          = ImVec4(0.31, 0.31, 0.31, 1.00)
        colors[clr.ScrollbarGrabHovered]   = ImVec4(0.41, 0.41, 0.41, 1.00)
        colors[clr.ScrollbarGrabActive]    = ImVec4(0.51, 0.51, 0.51, 1.00)
        colors[clr.PlotLines]              = ImVec4(0.61, 0.61, 0.61, 1.00)
        colors[clr.PlotLinesHovered]       = ImVec4(1.00, 0.43, 0.35, 1.00)
        colors[clr.PlotHistogram]          = ImVec4(0.90, 0.70, 0.00, 1.00)
        colors[clr.PlotHistogramHovered]   = ImVec4(1.00, 0.60, 0.00, 1.00)
    elseif theme == 3 then
        colors[clr.WindowBg]               = ImVec4(0.0, 0.0, 0.0, 1.00)
        colors[clr.FrameBg]                = ImVec4(0.48, 0.23, 0.16, 0.54)
        colors[clr.FrameBgHovered]         = ImVec4(0.98, 0.43, 0.26, 0.40)
        colors[clr.FrameBgActive]          = ImVec4(0.98, 0.43, 0.26, 0.67)
        colors[clr.TitleBg]                = ImVec4(0.04, 0.04, 0.04, 1.00)
        colors[clr.TitleBgActive]          = ImVec4(0.48, 0.23, 0.16, 1.00)
        colors[clr.TitleBgCollapsed]       = ImVec4(0.00, 0.00, 0.00, 0.51)
        colors[clr.CheckMark]              = ImVec4(0.98, 0.43, 0.26, 1.00)
        colors[clr.SliderGrab]             = ImVec4(0.88, 0.39, 0.24, 1.00)
        colors[clr.SliderGrabActive]       = ImVec4(0.98, 0.43, 0.26, 1.00)
        colors[clr.Button]                 = ImVec4(0.98, 0.43, 0.26, 0.40)
        colors[clr.ButtonHovered]          = ImVec4(0.98, 0.43, 0.26, 1.00)
        colors[clr.ButtonActive]           = ImVec4(0.98, 0.28, 0.06, 1.00)
        colors[clr.Header]                 = ImVec4(0.98, 0.43, 0.26, 0.31)
        colors[clr.HeaderHovered]          = ImVec4(0.98, 0.43, 0.26, 0.80)
        colors[clr.HeaderActive]           = ImVec4(0.98, 0.43, 0.26, 1.00)
        colors[clr.Separator]              = colors[clr.Border]
        colors[clr.SeparatorHovered]       = ImVec4(0.75, 0.25, 0.10, 0.78)
        colors[clr.SeparatorActive]        = ImVec4(0.75, 0.25, 0.10, 1.00)
        colors[clr.ResizeGrip]             = ImVec4(0.98, 0.43, 0.26, 0.25)
        colors[clr.ResizeGripHovered]      = ImVec4(0.98, 0.43, 0.26, 0.67)
        colors[clr.ResizeGripActive]       = ImVec4(0.98, 0.43, 0.26, 0.95)
        colors[clr.PlotLines]              = ImVec4(0.61, 0.61, 0.61, 1.00)
        colors[clr.PlotLinesHovered]       = ImVec4(1.00, 0.50, 0.35, 1.00)
        colors[clr.TextSelectedBg]         = ImVec4(0.98, 0.43, 0.26, 0.35)
        colors[clr.Text]                   = ImVec4(1.00, 1.00, 1.00, 1.00)
        colors[clr.TextDisabled]           = ImVec4(0.50, 0.50, 0.50, 1.00)
        colors[clr.ChildBg]                = ImVec4(0.5, 0.2, 0.07, 0.10)
        colors[clr.PopupBg]                = ImVec4(0.08, 0.08, 0.08, 0.94)
        colors[clr.Border]                 = ImVec4(1.0, 1.0, 1.0, 0.10)
        colors[clr.BorderShadow]           = ImVec4(0.00, 0.00, 0.00, 0.00)
        colors[clr.MenuBarBg]              = ImVec4(0.14, 0.14, 0.14, 1.00)
        colors[clr.ScrollbarBg]            = ImVec4(0.02, 0.02, 0.02, 0.53)
        colors[clr.ScrollbarGrab]          = ImVec4(0.31, 0.31, 0.31, 1.00)
        colors[clr.ScrollbarGrabHovered]   = ImVec4(0.41, 0.41, 0.41, 1.00)
        colors[clr.ScrollbarGrabActive]    = ImVec4(0.51, 0.51, 0.51, 1.00)
        colors[clr.PlotHistogram]          = ImVec4(0.90, 0.70, 0.00, 1.00)
        colors[clr.PlotHistogramHovered]   = ImVec4(1.00, 0.60, 0.00, 1.00)
    elseif theme == 4 then
        colors[clr.WindowBg]               = ImVec4(0.0, 0.0, 0.0, 1.00)
        colors[clr.FrameBg]                = ImVec4(0.16, 0.48, 0.42, 0.54)
        colors[clr.FrameBgHovered]         = ImVec4(0.26, 0.98, 0.85, 0.40)
        colors[clr.FrameBgActive]          = ImVec4(0.26, 0.98, 0.85, 0.67)
        colors[clr.TitleBg]                = ImVec4(0.04, 0.04, 0.04, 1.00)
        colors[clr.TitleBgActive]          = ImVec4(0.16, 0.48, 0.42, 1.00)
        colors[clr.TitleBgCollapsed]       = ImVec4(0.00, 0.00, 0.00, 0.51)
        colors[clr.CheckMark]              = ImVec4(0.26, 0.98, 0.85, 1.00)
        colors[clr.SliderGrab]             = ImVec4(0.24, 0.88, 0.77, 1.00)
        colors[clr.SliderGrabActive]       = ImVec4(0.26, 0.98, 0.85, 1.00)
        colors[clr.Button]                 = ImVec4(0.26, 0.98, 0.85, 0.40)
        colors[clr.ButtonHovered]          = ImVec4(0.26, 0.98, 0.85, 1.00)
        colors[clr.ButtonActive]           = ImVec4(0.06, 0.98, 0.82, 1.00)
        colors[clr.Header]                 = ImVec4(0.26, 0.98, 0.85, 0.31)
        colors[clr.HeaderHovered]          = ImVec4(0.26, 0.98, 0.85, 0.80)
        colors[clr.HeaderActive]           = ImVec4(0.26, 0.98, 0.85, 1.00)
        colors[clr.Separator]              = colors[clr.Border]
        colors[clr.SeparatorHovered]       = ImVec4(0.10, 0.75, 0.63, 0.78)
        colors[clr.SeparatorActive]        = ImVec4(0.10, 0.75, 0.63, 1.00)
        colors[clr.ResizeGrip]             = ImVec4(0.26, 0.98, 0.85, 0.25)
        colors[clr.ResizeGripHovered]      = ImVec4(0.26, 0.98, 0.85, 0.67)
        colors[clr.ResizeGripActive]       = ImVec4(0.26, 0.98, 0.85, 0.95)
        colors[clr.PlotLines]              = ImVec4(0.61, 0.61, 0.61, 1.00)
        colors[clr.PlotLinesHovered]       = ImVec4(1.00, 0.81, 0.35, 1.00)
        colors[clr.TextSelectedBg]         = ImVec4(0.26, 0.98, 0.85, 0.35)
        colors[clr.Text]                   = ImVec4(1.00, 1.00, 1.00, 1.00)
        colors[clr.TextDisabled]           = ImVec4(0.50, 0.50, 0.50, 1.00)
        colors[clr.ChildBg]                = ImVec4(0.06, 0.37, 0.35, 0.10)
        colors[clr.PopupBg]                = ImVec4(0.08, 0.08, 0.08, 0.94)
        colors[clr.Border]                 = ImVec4(1.0, 1.0, 1.0, 0.10)
        colors[clr.BorderShadow]           = ImVec4(0.00, 0.00, 0.00, 0.00)
        colors[clr.MenuBarBg]              = ImVec4(0.14, 0.14, 0.14, 1.00)
        colors[clr.ScrollbarBg]            = ImVec4(0.02, 0.02, 0.02, 0.53)
        colors[clr.ScrollbarGrab]          = ImVec4(0.31, 0.31, 0.31, 1.00)
        colors[clr.ScrollbarGrabHovered]   = ImVec4(0.41, 0.41, 0.41, 1.00)
        colors[clr.ScrollbarGrabActive]    = ImVec4(0.51, 0.51, 0.51, 1.00)
        colors[clr.PlotHistogram]          = ImVec4(0.90, 0.70, 0.00, 1.00)
        colors[clr.PlotHistogramHovered]   = ImVec4(1.00, 0.60, 0.00, 1.00)
    elseif theme == 5 then
        colors[clr.WindowBg]               = ImVec4(0.0, 0.0, 0.0, 1.00)
        colors[clr.Text]                   = ImVec4(0.80, 0.80, 0.83, 1.00)
        colors[clr.TextDisabled]           = ImVec4(0.24, 0.23, 0.29, 1.00)
        colors[clr.ChildBg]                = ImVec4(0.07, 0.07, 0.09, 0.00)
        colors[clr.PopupBg]                = ImVec4(0.07, 0.07, 0.09, 1.00)
        colors[clr.Border]                 = ImVec4(1.0, 1.0, 1.0, 0.10)
        colors[clr.BorderShadow]           = ImVec4(0.92, 0.91, 0.88, 0.00)
        colors[clr.FrameBg]                = ImVec4(0.10, 0.09, 0.12, 0.54)
        colors[clr.FrameBgHovered]         = ImVec4(0.24, 0.23, 0.29, 1.00)
        colors[clr.FrameBgActive]          = ImVec4(0.56, 0.56, 0.58, 1.00)
        colors[clr.TitleBg]                = ImVec4(0.10, 0.09, 0.12, 1.00)
        colors[clr.TitleBgCollapsed]       = ImVec4(1.00, 0.98, 0.95, 0.75)
        colors[clr.TitleBgActive]          = ImVec4(0.07, 0.07, 0.09, 1.00)
        colors[clr.MenuBarBg]              = ImVec4(0.10, 0.09, 0.12, 1.00)
        colors[clr.ScrollbarBg]            = ImVec4(0.10, 0.09, 0.12, 1.00)
        colors[clr.ScrollbarGrab]          = ImVec4(0.80, 0.80, 0.83, 0.31)
        colors[clr.ScrollbarGrabHovered]   = ImVec4(0.56, 0.56, 0.58, 1.00)
        colors[clr.ScrollbarGrabActive]    = ImVec4(0.06, 0.05, 0.07, 1.00)
        colors[clr.CheckMark]              = ImVec4(0.80, 0.80, 0.83, 0.31)
        colors[clr.SliderGrab]             = ImVec4(0.80, 0.80, 0.83, 0.31)
        colors[clr.SliderGrabActive]       = ImVec4(0.06, 0.05, 0.07, 1.00)
        colors[clr.Button]                 = ImVec4(0.10, 0.09, 0.12, 1.00)
        colors[clr.ButtonHovered]          = ImVec4(0.24, 0.23, 0.29, 1.00)
        colors[clr.ButtonActive]           = ImVec4(0.56, 0.56, 0.58, 1.00)
        colors[clr.Header]                 = ImVec4(0.10, 0.09, 0.12, 1.00)
        colors[clr.HeaderHovered]          = ImVec4(0.56, 0.56, 0.58, 1.00)
        colors[clr.HeaderActive]           = ImVec4(0.06, 0.05, 0.07, 1.00)
        colors[clr.ResizeGrip]             = ImVec4(0.00, 0.00, 0.00, 0.00)
        colors[clr.ResizeGripHovered]      = ImVec4(0.56, 0.56, 0.58, 1.00)
        colors[clr.ResizeGripActive]       = ImVec4(0.06, 0.05, 0.07, 1.00)
        colors[clr.PlotLines]              = ImVec4(0.40, 0.39, 0.38, 0.63)
        colors[clr.PlotLinesHovered]       = ImVec4(0.25, 1.00, 0.00, 1.00)
        colors[clr.PlotHistogram]          = ImVec4(0.40, 0.39, 0.38, 0.63)
        colors[clr.PlotHistogramHovered]   = ImVec4(0.25, 1.00, 0.00, 1.00)
        colors[clr.TextSelectedBg]         = ImVec4(0.25, 1.00, 0.00, 0.43)
    elseif theme == 6 then
        colors[clr.WindowBg]               = ImVec4(0.0, 0.0, 0.0, 1.00)
        colors[clr.Text]                 = ImVec4(1.00, 1.00, 1.00, 1.00)
        colors[clr.TextDisabled]         = ImVec4(0.60, 0.60, 0.60, 1.00)
        colors[clr.ChildBg]              = ImVec4(0.23, 0, 0.46, 0.10)
        colors[clr.PopupBg]              = ImVec4(0.09, 0.09, 0.09, 1.00)
        colors[clr.Border]                 = ImVec4(1.0, 1.0, 1.0, 0.10)
        colors[clr.BorderShadow]         = ImVec4(9.90, 9.99, 9.99, 0.00)
        colors[clr.FrameBg]              = ImVec4(0.34, 0.30, 0.34, 0.54)
        colors[clr.FrameBgHovered]       = ImVec4(0.22, 0.21, 0.21, 0.40)
        colors[clr.FrameBgActive]        = ImVec4(0.20, 0.20, 0.20, 0.44)
        colors[clr.TitleBg]              = ImVec4(0.52, 0.27, 0.77, 1.00)
        colors[clr.TitleBgActive]        = ImVec4(0.55, 0.28, 0.75, 1.00)
        colors[clr.TitleBgCollapsed]     = ImVec4(9.99, 9.99, 9.90, 0.20)
        colors[clr.MenuBarBg]            = ImVec4(0.27, 0.27, 0.29, 0.80)
        colors[clr.ScrollbarBg]          = ImVec4(0.30, 0.20, 0.39, 1.00)
        colors[clr.ScrollbarGrab]        = ImVec4(0.41, 0.19, 0.63, 0.31)
        colors[clr.ScrollbarGrabHovered] = ImVec4(0.41, 0.19, 0.63, 0.78)
        colors[clr.ScrollbarGrabActive]  = ImVec4(0.41, 0.19, 0.63, 1.00)
        colors[clr.CheckMark]            = ImVec4(0.89, 0.89, 0.89, 0.50)
        colors[clr.SliderGrab]           = ImVec4(1.00, 1.00, 1.00, 0.30)
        colors[clr.SliderGrabActive]     = ImVec4(0.80, 0.50, 0.50, 1.00)
        colors[clr.Button]               = ImVec4(0.41, 0.19, 0.63, 0.44)
        colors[clr.ButtonHovered]        = ImVec4(0.41, 0.19, 0.63, 1.00)
        colors[clr.ButtonActive]         = ImVec4(0.64, 0.33, 0.94, 1.00)
        colors[clr.Header]               = ImVec4(0.56, 0.27, 0.73, 0.44)
        colors[clr.HeaderHovered]        = ImVec4(0.78, 0.44, 0.89, 0.80)
        colors[clr.HeaderActive]         = ImVec4(0.81, 0.52, 0.87, 0.80)
        colors[clr.Separator]            = ImVec4(0.42, 0.42, 0.42, 1.00)
        colors[clr.SeparatorHovered]     = ImVec4(0.57, 0.24, 0.73, 1.00)
        colors[clr.SeparatorActive]      = ImVec4(0.69, 0.69, 0.89, 1.00)
        colors[clr.ResizeGrip]           = ImVec4(1.00, 1.00, 1.00, 0.30)
        colors[clr.ResizeGripHovered]    = ImVec4(1.00, 1.00, 1.00, 0.60)
        colors[clr.ResizeGripActive]     = ImVec4(1.00, 1.00, 1.00, 0.89)
        colors[clr.PlotLines]            = ImVec4(1.00, 0.99, 0.99, 1.00)
        colors[clr.PlotLinesHovered]     = ImVec4(0.49, 0.00, 0.89, 1.00)
        colors[clr.PlotHistogram]        = ImVec4(9.99, 9.99, 9.90, 1.00)
        colors[clr.PlotHistogramHovered] = ImVec4(9.99, 9.99, 9.90, 1.00)
        colors[clr.TextSelectedBg]       = ImVec4(0.54, 0.00, 1.00, 0.34)
    elseif theme == 7 then
        colors[clr.WindowBg]               = ImVec4(0.0, 0.0, 0.0, 1.00)
        colors[clr.Text]                   = ImVec4(0.95, 0.96, 0.98, 1.00)
        colors[clr.TextDisabled]           = ImVec4(0.36, 0.42, 0.47, 1.00)
        colors[clr.ChildBg]                = ImVec4(0.15, 0.18, 0.22, 0.30)
        colors[clr.PopupBg]                = ImVec4(0.08, 0.08, 0.08, 0.94)
        colors[clr.Border]                 = ImVec4(1.0, 1.0, 1.0, 0.10)
        colors[clr.BorderShadow]           = ImVec4(0.00, 0.00, 0.00, 0.00)
        colors[clr.FrameBg]                = ImVec4(0.20, 0.25, 0.29, 0.54)
        colors[clr.FrameBgHovered]         = ImVec4(0.12, 0.20, 0.28, 1.00)
        colors[clr.FrameBgActive]          = ImVec4(0.09, 0.12, 0.14, 1.00)
        colors[clr.TitleBg]                = ImVec4(0.09, 0.12, 0.14, 1.00)
        colors[clr.TitleBgCollapsed]       = ImVec4(0.00, 0.00, 0.00, 0.51)
        colors[clr.TitleBgActive]          = ImVec4(0.08, 0.10, 0.12, 1.00)
        colors[clr.MenuBarBg]              = ImVec4(0.15, 0.18, 0.22, 1.00)
        colors[clr.ScrollbarBg]            = ImVec4(0.02, 0.02, 0.02, 0.39)
        colors[clr.ScrollbarGrab]          = ImVec4(0.20, 0.25, 0.29, 1.00)
        colors[clr.ScrollbarGrabHovered]   = ImVec4(0.18, 0.22, 0.25, 1.00)
        colors[clr.ScrollbarGrabActive]    = ImVec4(0.09, 0.21, 0.31, 1.00)
        colors[clr.CheckMark]              = ImVec4(0.28, 0.56, 1.00, 1.00)
        colors[clr.SliderGrab]             = ImVec4(0.28, 0.56, 1.00, 1.00)
        colors[clr.SliderGrabActive]       = ImVec4(0.37, 0.61, 1.00, 1.00)
        colors[clr.Button]                 = ImVec4(0.20, 0.25, 0.29, 1.00)
        colors[clr.ButtonHovered]          = ImVec4(0.28, 0.56, 1.00, 1.00)
        colors[clr.ButtonActive]           = ImVec4(0.06, 0.53, 0.98, 1.00)
        colors[clr.Header]                 = ImVec4(0.20, 0.25, 0.29, 0.55)
        colors[clr.HeaderHovered]          = ImVec4(0.26, 0.59, 0.98, 0.80)
        colors[clr.HeaderActive]           = ImVec4(0.26, 0.59, 0.98, 1.00)
        colors[clr.ResizeGrip]             = ImVec4(0.26, 0.59, 0.98, 0.25)
        colors[clr.ResizeGripHovered]      = ImVec4(0.26, 0.59, 0.98, 0.67)
        colors[clr.ResizeGripActive]       = ImVec4(0.06, 0.05, 0.07, 1.00)
        colors[clr.PlotLines]              = ImVec4(0.61, 0.61, 0.61, 1.00)
        colors[clr.PlotLinesHovered]       = ImVec4(1.00, 0.43, 0.35, 1.00)
        colors[clr.PlotHistogram]          = ImVec4(0.90, 0.70, 0.00, 1.00)
        colors[clr.PlotHistogramHovered]   = ImVec4(1.00, 0.60, 0.00, 1.00)
        colors[clr.TextSelectedBg]         = ImVec4(0.25, 1.00, 0.00, 0.43)
    elseif theme == 8 then
        colors[clr.WindowBg]               = ImVec4(0.0, 0.0, 0.0, 1.00)
        colors[clr.Text]                   = ImVec4(0.90, 0.90, 0.90, 1.00)
        colors[clr.TextDisabled]           = ImVec4(0.60, 0.60, 0.60, 1.00)
        colors[clr.ChildBg]                = ImVec4(0, 0.46, 0.08, 0.10)
        colors[clr.PopupBg]                = ImVec4(0.08, 0.08, 0.08, 1.00)
        colors[clr.Border]                 = ImVec4(1.0, 1.0, 1.0, 0.10)
        colors[clr.BorderShadow]           = ImVec4(0.00, 0.00, 0.00, 0.00)
        colors[clr.FrameBg]                = ImVec4(0.15, 0.15, 0.15, 0.54)
        colors[clr.FrameBgHovered]         = ImVec4(0.19, 0.19, 0.19, 0.71)
        colors[clr.FrameBgActive]          = ImVec4(0.34, 0.34, 0.34, 0.79)
        colors[clr.TitleBg]                = ImVec4(0.00, 0.69, 0.33, 1.00)
        colors[clr.TitleBgActive]          = ImVec4(0.00, 0.74, 0.36, 1.00)
        colors[clr.TitleBgCollapsed]       = ImVec4(0.00, 0.69, 0.33, 0.50)
        colors[clr.MenuBarBg]              = ImVec4(0.00, 0.80, 0.38, 1.00)
        colors[clr.ScrollbarBg]            = ImVec4(0.16, 0.16, 0.16, 1.00)
        colors[clr.ScrollbarGrab]          = ImVec4(0.00, 0.69, 0.33, 1.00)
        colors[clr.ScrollbarGrabHovered]   = ImVec4(0.00, 0.82, 0.39, 1.00)
        colors[clr.ScrollbarGrabActive]    = ImVec4(0.00, 1.00, 0.48, 1.00)
        colors[clr.CheckMark]              = ImVec4(0.00, 0.69, 0.33, 1.00)
        colors[clr.SliderGrab]             = ImVec4(0.00, 0.69, 0.33, 1.00)
        colors[clr.SliderGrabActive]       = ImVec4(0.00, 0.77, 0.37, 1.00)
        colors[clr.Button]                 = ImVec4(0.00, 0.69, 0.33, 1.00)
        colors[clr.ButtonHovered]          = ImVec4(0.00, 0.82, 0.39, 1.00)
        colors[clr.ButtonActive]           = ImVec4(0.00, 0.87, 0.42, 1.00)
        colors[clr.Header]                 = ImVec4(0.00, 0.69, 0.33, 1.00)
        colors[clr.HeaderHovered]          = ImVec4(0.00, 0.76, 0.37, 0.57)
        colors[clr.HeaderActive]           = ImVec4(0.00, 0.88, 0.42, 0.89)
        colors[clr.Separator]              = ImVec4(1.00, 1.00, 1.00, 0.40)
        colors[clr.SeparatorHovered]       = ImVec4(1.00, 1.00, 1.00, 0.60)
        colors[clr.SeparatorActive]        = ImVec4(1.00, 1.00, 1.00, 0.80)
        colors[clr.ResizeGrip]             = ImVec4(0.00, 0.69, 0.33, 1.00)
        colors[clr.ResizeGripHovered]      = ImVec4(0.00, 0.76, 0.37, 1.00)
        colors[clr.ResizeGripActive]       = ImVec4(0.00, 0.86, 0.41, 1.00)
        colors[clr.PlotLines]              = ImVec4(0.00, 0.69, 0.33, 1.00)
        colors[clr.PlotLinesHovered]       = ImVec4(0.00, 0.74, 0.36, 1.00)
        colors[clr.PlotHistogram]          = ImVec4(0.00, 0.69, 0.33, 1.00)
        colors[clr.PlotHistogramHovered]   = ImVec4(0.00, 0.80, 0.38, 1.00)
        colors[clr.TextSelectedBg]         = ImVec4(0.00, 0.69, 0.33, 0.72)
    elseif theme == 9 then
        colors[clr.WindowBg]               = ImVec4(0.0, 0.0, 0.0, 1.00)
        colors[clr.FrameBg]                = ImVec4(0.46, 0.11, 0.29, 0.54)
        colors[clr.FrameBgHovered]         = ImVec4(0.69, 0.16, 0.43, 1.00)
        colors[clr.FrameBgActive]          = ImVec4(0.58, 0.10, 0.35, 1.00)
        colors[clr.TitleBg]                = ImVec4(0.00, 0.00, 0.00, 1.00)
        colors[clr.TitleBgActive]          = ImVec4(0.61, 0.16, 0.39, 1.00)
        colors[clr.TitleBgCollapsed]       = ImVec4(0.00, 0.00, 0.00, 0.51)
        colors[clr.CheckMark]              = ImVec4(0.94, 0.30, 0.63, 1.00)
        colors[clr.SliderGrab]             = ImVec4(0.85, 0.11, 0.49, 1.00)
        colors[clr.SliderGrabActive]       = ImVec4(0.89, 0.24, 0.58, 1.00)
        colors[clr.Button]                 = ImVec4(0.46, 0.11, 0.29, 1.00)
        colors[clr.ButtonHovered]          = ImVec4(0.69, 0.17, 0.43, 1.00)
        colors[clr.ButtonActive]           = ImVec4(0.59, 0.10, 0.35, 1.00)
        colors[clr.Header]                 = ImVec4(0.46, 0.11, 0.29, 1.00)
        colors[clr.HeaderHovered]          = ImVec4(0.69, 0.16, 0.43, 1.00)
        colors[clr.HeaderActive]           = ImVec4(0.58, 0.10, 0.35, 1.00)
        colors[clr.Separator]              = ImVec4(0.69, 0.16, 0.43, 1.00)
        colors[clr.SeparatorHovered]       = ImVec4(0.58, 0.10, 0.35, 1.00)
        colors[clr.SeparatorActive]        = ImVec4(0.58, 0.10, 0.35, 1.00)
        colors[clr.ResizeGrip]             = ImVec4(0.46, 0.11, 0.29, 0.70)
        colors[clr.ResizeGripHovered]      = ImVec4(0.69, 0.16, 0.43, 0.67)
        colors[clr.ResizeGripActive]       = ImVec4(0.70, 0.13, 0.42, 1.00)
        colors[clr.TextSelectedBg]         = ImVec4(1.00, 0.78, 0.90, 0.35)
        colors[clr.Text]                   = ImVec4(1.00, 1.00, 1.00, 1.00)
        colors[clr.TextDisabled]           = ImVec4(0.60, 0.19, 0.40, 1.00)
        colors[clr.ChildBg]                = ImVec4(0.68, 0, 0.41, 0.10)
        colors[clr.PopupBg]                = ImVec4(0.08, 0.08, 0.08, 0.94)
        colors[clr.Border]                 = ImVec4(1.0, 1.0, 1.0, 0.10)
        colors[clr.BorderShadow]           = ImVec4(0.49, 0.14, 0.31, 0.00)
        colors[clr.MenuBarBg]              = ImVec4(0.15, 0.15, 0.15, 1.00)
        colors[clr.ScrollbarBg]            = ImVec4(0.02, 0.02, 0.02, 0.53)
        colors[clr.ScrollbarGrab]          = ImVec4(0.31, 0.31, 0.31, 1.00)
        colors[clr.ScrollbarGrabHovered]   = ImVec4(0.41, 0.41, 0.41, 1.00)
        colors[clr.ScrollbarGrabActive]    = ImVec4(0.51, 0.51, 0.51, 1.00)
    elseif theme == 10 then
        colors[clr.WindowBg]               = ImVec4(0.0, 0.0, 0.0, 1.00)
        colors[clr.Text]                   = ImVec4(1.00, 1.00, 1.00, 1.00)
        colors[clr.TextDisabled]           = ImVec4(0.50, 0.50, 0.50, 1.00)
        colors[clr.ChildBg]                = ImVec4(0, 0.27, 0.11, 0.10)
        colors[clr.PopupBg]                = ImVec4(0.08, 0.08, 0.08, 0.94)
        colors[clr.Border]                 = ImVec4(1.0, 1.0, 1.0, 0.10)
        colors[clr.BorderShadow]           = ImVec4(0.00, 0.00, 0.00, 0.00)
        colors[clr.FrameBg]                = ImVec4(0.44, 0.44, 0.44, 0.54)
        colors[clr.FrameBgHovered]         = ImVec4(0.57, 0.57, 0.57, 0.70)
        colors[clr.FrameBgActive]          = ImVec4(0.76, 0.76, 0.76, 0.80)
        colors[clr.TitleBg]                = ImVec4(0.04, 0.04, 0.04, 1.00)
        colors[clr.TitleBgActive]          = ImVec4(0.16, 0.16, 0.16, 1.00)
        colors[clr.TitleBgCollapsed]       = ImVec4(0.00, 0.00, 0.00, 0.60)
        colors[clr.MenuBarBg]              = ImVec4(0.14, 0.14, 0.14, 1.00)
        colors[clr.ScrollbarBg]            = ImVec4(0.02, 0.02, 0.02, 0.53)
        colors[clr.ScrollbarGrab]          = ImVec4(0.31, 0.31, 0.31, 1.00)
        colors[clr.ScrollbarGrabHovered]   = ImVec4(0.41, 0.41, 0.41, 1.00)
        colors[clr.ScrollbarGrabActive]    = ImVec4(0.51, 0.51, 0.51, 1.00)
        colors[clr.CheckMark]              = ImVec4(0.13, 0.75, 0.55, 0.80)
        colors[clr.SliderGrab]             = ImVec4(0.13, 0.75, 0.75, 0.80)
        colors[clr.SliderGrabActive]       = ImVec4(0.13, 0.75, 1.00, 0.80)
        colors[clr.Button]                 = ImVec4(0.13, 0.75, 0.55, 0.40)
        colors[clr.ButtonHovered]          = ImVec4(0.13, 0.75, 0.75, 0.60)
        colors[clr.ButtonActive]           = ImVec4(0.13, 0.75, 1.00, 0.80)
        colors[clr.Header]                 = ImVec4(0.13, 0.75, 0.55, 0.40)
        colors[clr.HeaderHovered]          = ImVec4(0.13, 0.75, 0.75, 0.60)
        colors[clr.HeaderActive]           = ImVec4(0.13, 0.75, 1.00, 0.80)
        colors[clr.Separator]              = ImVec4(0.13, 0.75, 0.55, 0.40)
        colors[clr.SeparatorHovered]       = ImVec4(0.13, 0.75, 0.75, 0.60)
        colors[clr.SeparatorActive]        = ImVec4(0.13, 0.75, 1.00, 0.80)
        colors[clr.ResizeGrip]             = ImVec4(0.13, 0.75, 0.55, 0.40)
        colors[clr.ResizeGripHovered]      = ImVec4(0.13, 0.75, 0.75, 0.60)
        colors[clr.ResizeGripActive]       = ImVec4(0.13, 0.75, 1.00, 0.80)
        colors[clr.PlotLines]              = ImVec4(0.61, 0.61, 0.61, 1.00)
        colors[clr.PlotLinesHovered]       = ImVec4(1.00, 0.43, 0.35, 1.00)
        colors[clr.PlotHistogram]          = ImVec4(0.90, 0.70, 0.00, 1.00)
        colors[clr.PlotHistogramHovered]   = ImVec4(1.00, 0.60, 0.00, 1.00)
        colors[clr.TextSelectedBg]         = ImVec4(0.26, 0.59, 0.98, 0.35)
    elseif theme == 11 then
        colors[clr.WindowBg]               = ImVec4(0.0, 0.0, 0.0, 1.00)
        colors[clr.PopupBg]                = ImVec4(0.08, 0.08, 0.08, 0.96)
        colors[clr.Border]                 = ImVec4(1.0, 1.0, 1.0, 0.10)
        colors[clr.FrameBg]                = ImVec4(0.49, 0.24, 0.00, 0.54)
        colors[clr.ChildBg]                = ImVec4(0.8, 0.24, 0, 0.10)
        colors[clr.FrameBgHovered]         = ImVec4(0.65, 0.32, 0.00, 1.00)
        colors[clr.FrameBgActive]          = ImVec4(0.73, 0.36, 0.00, 1.00)
        colors[clr.TitleBg]                = ImVec4(0.15, 0.11, 0.09, 1.00)
        colors[clr.TitleBgActive]          = ImVec4(0.73, 0.36, 0.00, 1.00)
        colors[clr.TitleBgCollapsed]       = ImVec4(0.15, 0.11, 0.09, 0.51)
        colors[clr.MenuBarBg]              = ImVec4(0.62, 0.31, 0.00, 1.00)
        colors[clr.CheckMark]              = ImVec4(1.00, 0.49, 0.00, 1.00)
        colors[clr.SliderGrab]             = ImVec4(0.84, 0.41, 0.00, 1.00)
        colors[clr.SliderGrabActive]       = ImVec4(0.98, 0.49, 0.00, 1.00)
        colors[clr.Button]                 = ImVec4(0.73, 0.36, 0.00, 0.40)
        colors[clr.ButtonHovered]          = ImVec4(0.73, 0.36, 0.00, 1.00)
        colors[clr.ButtonActive]           = ImVec4(1.00, 0.50, 0.00, 1.00)
        colors[clr.Header]                 = ImVec4(0.49, 0.24, 0.00, 1.00)
        colors[clr.HeaderHovered]          = ImVec4(0.70, 0.35, 0.01, 1.00)
        colors[clr.HeaderActive]           = ImVec4(1.00, 0.49, 0.00, 1.00)
        colors[clr.SeparatorHovered]       = ImVec4(0.49, 0.24, 0.00, 0.78)
        colors[clr.SeparatorActive]        = ImVec4(0.49, 0.24, 0.00, 1.00)
        colors[clr.ResizeGrip]             = ImVec4(0.48, 0.23, 0.00, 1.00)
        colors[clr.ResizeGripHovered]      = ImVec4(0.78, 0.38, 0.00, 1.00)
        colors[clr.ResizeGripActive]       = ImVec4(1.00, 0.49, 0.00, 1.00)
        colors[clr.PlotLines]              = ImVec4(0.83, 0.41, 0.00, 1.00)
        colors[clr.PlotLinesHovered]       = ImVec4(1.00, 0.99, 0.00, 1.00)
        colors[clr.PlotHistogram]          = ImVec4(0.93, 0.46, 0.00, 1.00)
        colors[clr.TextSelectedBg]         = ImVec4(0.26, 0.59, 0.98, 0.00)
        colors[clr.ScrollbarBg]            = ImVec4(0.00, 0.00, 0.00, 0.53)
        colors[clr.ScrollbarGrab]          = ImVec4(0.33, 0.33, 0.33, 1.00)
        colors[clr.ScrollbarGrabHovered]   = ImVec4(0.39, 0.39, 0.39, 1.00)
        colors[clr.ScrollbarGrabActive]    = ImVec4(0.48, 0.48, 0.48, 1.00)
    elseif theme == 12 then
        colors[clr.FrameBg]                = ImVec4(0.16, 0.29, 0.48, 0.54)
        colors[clr.FrameBgHovered]         = ImVec4(0.26, 0.59, 0.98, 0.40)
        colors[clr.FrameBgActive]          = ImVec4(0.26, 0.59, 0.98, 0.67)
        colors[clr.TitleBg]                = ImVec4(0.04, 0.04, 0.04, 1.00)
        colors[clr.TitleBgActive]          = ImVec4(0.16, 0.29, 0.48, 1.00)
        colors[clr.TitleBgCollapsed]       = ImVec4(0.00, 0.00, 0.00, 0.51)
        colors[clr.CheckMark]              = ImVec4(0.26, 0.59, 0.98, 1.00)
        colors[clr.SliderGrab]             = ImVec4(0.24, 0.52, 0.88, 1.00)
        colors[clr.SliderGrabActive]       = ImVec4(0.26, 0.59, 0.98, 1.00)
        colors[clr.Button]                 = ImVec4(0.26, 0.59, 0.98, 0.40)
        colors[clr.ButtonHovered]          = ImVec4(0.26, 0.59, 0.98, 1.00)
        colors[clr.ButtonActive]           = ImVec4(0.06, 0.53, 0.98, 1.00)
        colors[clr.Header]                 = ImVec4(0.26, 0.59, 0.98, 0.31)
        colors[clr.HeaderHovered]          = ImVec4(0.26, 0.59, 0.98, 0.80)
        colors[clr.HeaderActive]           = ImVec4(0.26, 0.59, 0.98, 1.00)
        colors[clr.Separator]              = colors[clr.Border]
        colors[clr.SeparatorHovered]       = ImVec4(0.26, 0.59, 0.98, 0.78)
        colors[clr.SeparatorActive]        = ImVec4(0.26, 0.59, 0.98, 1.00)
        colors[clr.ResizeGrip]             = ImVec4(0.26, 0.59, 0.98, 0.25)
        colors[clr.ResizeGripHovered]      = ImVec4(0.26, 0.59, 0.98, 0.67)
        colors[clr.ResizeGripActive]       = ImVec4(0.26, 0.59, 0.98, 0.95)
        colors[clr.TextSelectedBg]         = ImVec4(0.26, 0.59, 0.98, 0.35)
        colors[clr.Text]                   = ImVec4(1.00, 1.00, 1.00, 1.00)
        colors[clr.TextDisabled]           = ImVec4(0.50, 0.50, 0.50, 1.00)
        colors[clr.WindowBg]               = ImVec4(0.0, 0.0, 0.0, 1.00)
        colors[clr.ChildBg]                = ImVec4(1.00, 1.00, 1.00, 0.00)
        colors[clr.PopupBg]                = ImVec4(0.08, 0.08, 0.08, 0.94)
        colors[clr.Border]                 = ImVec4(0.43, 0.43, 0.50, 0.20)
        colors[clr.BorderShadow]           = ImVec4(0.00, 0.00, 0.00, 0.00)
        colors[clr.MenuBarBg]              = ImVec4(0.14, 0.14, 0.14, 1.00)
        colors[clr.ScrollbarBg]            = ImVec4(0.02, 0.02, 0.02, 0.53)
        colors[clr.ScrollbarGrab]          = ImVec4(0.31, 0.31, 0.31, 1.00)
        colors[clr.ScrollbarGrabHovered]   = ImVec4(0.41, 0.41, 0.41, 1.00)
        colors[clr.ScrollbarGrabActive]    = ImVec4(0.51, 0.51, 0.51, 1.00)
        colors[clr.PlotLines]              = ImVec4(0.61, 0.61, 0.61, 1.00)
        colors[clr.PlotLinesHovered]       = ImVec4(1.00, 0.43, 0.35, 1.00)
        colors[clr.PlotHistogram]          = ImVec4(0.90, 0.70, 0.00, 1.00)
        colors[clr.PlotHistogramHovered]   = ImVec4(1.00, 0.60, 0.00, 1.00)
    end
end